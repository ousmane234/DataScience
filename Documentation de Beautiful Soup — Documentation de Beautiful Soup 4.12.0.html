<!DOCTYPE html>
<!-- saved from url=(0054)https://www.crummy.com/software/BeautifulSoup/bs4/doc/ -->
<html lang="fr" data-content_root="./" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Documentation de Beautiful Soup — Documentation de Beautiful Soup 4.12.0</title>
    <link rel="stylesheet" type="text/css" href="./Documentation de Beautiful Soup — Documentation de Beautiful Soup 4.12.0_files/pygments.css">
    <link rel="stylesheet" type="text/css" href="./Documentation de Beautiful Soup — Documentation de Beautiful Soup 4.12.0_files/classic.css">
    
    <script src="./Documentation de Beautiful Soup — Documentation de Beautiful Soup 4.12.0_files/documentation_options.js.téléchargement"></script>
    <script src="./Documentation de Beautiful Soup — Documentation de Beautiful Soup 4.12.0_files/doctools.js.téléchargement"></script>
    <script src="./Documentation de Beautiful Soup — Documentation de Beautiful Soup 4.12.0_files/sphinx_highlight.js.téléchargement"></script>
    
    <link rel="index" title="Indice" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/genindex.html">
    <link rel="search" title="Recherche" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/search.html"> 
  <link type="text/css" rel="stylesheet" charset="UTF-8" href="./Documentation de Beautiful Soup — Documentation de Beautiful Soup 4.12.0_files/m=el_main_css"></head><body>
    <div class="related" role="navigation" aria-label="navigation associée">
      <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La navigation</font></font></h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/genindex.html" title="Index général" accesskey="I"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indice</font></font></a></li>
        <li class="right">
          <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/py-modindex.html" title="Index des modules Python"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modules</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> |</font></font></li>
        <li class="nav-item nav-item-0"><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation de Beautiful Soup 4.12.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »</font></font></li>
        <li class="nav-item nav-item-this"><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Belle documentation sur la soupe</font></font></a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-bs4">
<span id="beautiful-soup-documentation"></span><span id="manual"></span><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Belle documentation sur la soupe </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#module-bs4" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h1>
<img alt="&quot;Le Poisson-Footman a commencé par sortir sous son bras une grande lettre, presque aussi grande que lui.&quot;" class="align-right" src="./Documentation de Beautiful Soup — Documentation de Beautiful Soup 4.12.0_files/6.1.jpg">
<p><a class="reference external" href="http://www.crummy.com/software/BeautifulSoup/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beautiful Soup</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est une bibliothèque Python permettant d'extraire des données de fichiers HTML et XML. Il fonctionne avec votre analyseur préféré pour fournir des moyens idiomatiques de naviguer, de rechercher et de modifier l'arborescence d'analyse. Cela fait généralement gagner des heures ou des jours de travail aux programmeurs.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ces instructions illustrent toutes les principales fonctionnalités de Beautiful Soup 4, avec des exemples. Je vous montre à quoi sert la bibliothèque, comment elle fonctionne, comment l'utiliser, comment lui faire faire ce que vous voulez et que faire lorsqu'elle viole vos attentes.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce document couvre Beautiful Soup version 4.12.2. Les exemples de cette documentation ont été écrits pour Python 3.8.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous recherchez peut-être la documentation de </font></font><a class="reference external" href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beautiful Soup 3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Si tel est le cas, sachez que Beautiful Soup 3 n'est plus en cours de développement et que tout son support a été abandonné le 31 décembre 2020. Si vous souhaitez en savoir plus sur les différences entre Beautiful Soup 3 et Beautiful Soup 4, consultez </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#porting-code-to-bs4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portage du code vers BS4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cette documentation a été traduite dans d'autres langues par les utilisateurs de Beautiful Soup&nbsp;:</font></font></p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.zh/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这篇文档当然还有中文版.</font></font></a></p></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このページは日本語で利用できます(</font></font><a class="reference external" href="http://kondou.com/BS4/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部リンク</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></p></li>
<li><p><a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.ko/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C'est vrai que c'est moi qui l'ai fait.</font></font></a></p></li>
<li><p><a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.ptbr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce document est également disponible en portugais du Brésil.</font></font></a></p></li>
<li><p><a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.es/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce document est également disponible dans une traduction en espagnol.</font></font></a></p></li>
<li><p><a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.ru/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cette documentation est fournie par le russe.</font></font></a></p></li>
</ul>
<section id="getting-help">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obtenir de l'aide </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#getting-help" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous avez des questions sur Beautiful Soup ou rencontrez des problèmes,
 </font></font><a class="reference external" href="https://groups.google.com/forum/?fromgroups#!forum/beautifulsoup"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">envoyez un e-mail au groupe de discussion</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Si votre problème implique l'analyse d'un document HTML, assurez-vous de mentionner
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#diagnose"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ce que dit la fonction diagnostique()</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> à propos de ce document.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque vous signalez une erreur dans cette documentation, veuillez mentionner la traduction que vous lisez.</font></font></p>
</section>
</section>
<section id="quick-start">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Démarrage rapide </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#quick-start" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici un document HTML que j'utiliserai comme exemple tout au long de ce document. Cela fait partie d'une histoire d' </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alice au Pays des Merveilles</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">html_doc</span> <span class="o">=</span> <span class="s2">"""&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;</span>
<span class="s2">&lt;body&gt;</span>
<span class="s2">&lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span>

<span class="s2">&lt;p class="story"&gt;Once upon a time there were three little sisters; and their names were</span>
<span class="s2">&lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="s2">&lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; and</span>
<span class="s2">&lt;a href="http://example.com/tillie" class="sister" id="link3"&gt;Tillie&lt;/a&gt;;</span>
<span class="s2">and they lived at the bottom of a well.&lt;/p&gt;</span>

<span class="s2">&lt;p class="story"&gt;...&lt;/p&gt;</span>
<span class="s2">"""</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L’exécution du document « trois sœurs » via Beautiful Soup nous donne un
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet qui représente le document sous la forme d’une structure de données imbriquée :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html_doc</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># &lt;html&gt;</span>
<span class="c1">#  &lt;head&gt;</span>
<span class="c1">#   &lt;title&gt;</span>
<span class="c1">#    The Dormouse's story</span>
<span class="c1">#   &lt;/title&gt;</span>
<span class="c1">#  &lt;/head&gt;</span>
<span class="c1">#  &lt;body&gt;</span>
<span class="c1">#   &lt;p class="title"&gt;</span>
<span class="c1">#    &lt;b&gt;</span>
<span class="c1">#     The Dormouse's story</span>
<span class="c1">#    &lt;/b&gt;</span>
<span class="c1">#   &lt;/p&gt;</span>
<span class="c1">#   &lt;p class="story"&gt;</span>
<span class="c1">#    Once upon a time there were three little sisters; and their names were</span>
<span class="c1">#    &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;</span>
<span class="c1">#     Elsie</span>
<span class="c1">#    &lt;/a&gt;</span>
<span class="c1">#    ,</span>
<span class="c1">#    &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;</span>
<span class="c1">#     Lacie</span>
<span class="c1">#    &lt;/a&gt;</span>
<span class="c1">#    and</span>
<span class="c1">#    &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;</span>
<span class="c1">#     Tillie</span>
<span class="c1">#    &lt;/a&gt;</span>
<span class="c1">#    ; and they lived at the bottom of a well.</span>
<span class="c1">#   &lt;/p&gt;</span>
<span class="c1">#   &lt;p class="story"&gt;</span>
<span class="c1">#    ...</span>
<span class="c1">#   &lt;/p&gt;</span>
<span class="c1">#  &lt;/body&gt;</span>
<span class="c1"># &lt;/html&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici quelques moyens simples de naviguer dans cette structure de données&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">title</span>
<span class="c1"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>

<span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">name</span>
<span class="c1"># u'title'</span>

<span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">string</span>
<span class="c1"># u'The Dormouse's story'</span>

<span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">name</span>
<span class="c1"># u'head'</span>

<span class="n">soup</span><span class="o">.</span><span class="n">p</span>
<span class="c1"># &lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span>

<span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># u'title'</span>

<span class="n">soup</span><span class="o">.</span><span class="n">a</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'a'</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">"link3"</span><span class="p">)</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une tâche courante consiste à extraire toutes les URL trouvées dans les balises &lt;a&gt; d'une page&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'a'</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'href'</span><span class="p">))</span>
<span class="c1"># http://example.com/elsie</span>
<span class="c1"># http://example.com/lacie</span>
<span class="c1"># http://example.com/tillie</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une autre tâche courante consiste à extraire tout le texte d'une page&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">get_text</span><span class="p">())</span>
<span class="c1"># The Dormouse's story</span>
<span class="c1">#</span>
<span class="c1"># The Dormouse's story</span>
<span class="c1">#</span>
<span class="c1"># Once upon a time there were three little sisters; and their names were</span>
<span class="c1"># Elsie,</span>
<span class="c1"># Lacie and</span>
<span class="c1"># Tillie;</span>
<span class="c1"># and they lived at the bottom of a well.</span>
<span class="c1">#</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Est-ce que cela ressemble à ce dont vous avez besoin&nbsp;? Si c'est le cas, continuez à lire.</font></font></p>
</section>
<section id="installing-beautiful-soup">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installer Beautiful Soup </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-beautiful-soup" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous utilisez une version récente de Debian ou Ubuntu Linux, vous pouvez installer Beautiful Soup avec le gestionnaire de paquets système :</font></font></p>
<p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">apt</kbd>-<kbd class="kbd docutils literal notranslate">get</kbd> <kbd class="kbd docutils literal notranslate">install</kbd> <kbd class="kbd docutils literal notranslate">python3</kbd>-<kbd class="kbd docutils literal notranslate">bs4</kbd></kbd></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beautiful Soup 4 est publié via PyPi, donc si vous ne pouvez pas l'installer avec le packager système, vous pouvez l'installer avec </font></font><code class="docutils literal notranslate"><span class="pre">easy_install</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou
 </font></font><code class="docutils literal notranslate"><span class="pre">pip</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Le nom du package est </font></font><code class="docutils literal notranslate"><span class="pre">beautifulsoup4</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Assurez-vous d'utiliser la bonne version de </font></font><code class="docutils literal notranslate"><span class="pre">pip</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code class="docutils literal notranslate"><span class="pre">easy_install</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour votre version Python (celles-ci peuvent être nommées </font></font><code class="docutils literal notranslate"><span class="pre">pip3</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">easy_install3</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">respectivement).</font></font></p>
<p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">easy_install</kbd> <kbd class="kbd docutils literal notranslate">beautifulsoup4</kbd></kbd></p>
<p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">pip</kbd> <kbd class="kbd docutils literal notranslate">install</kbd> <kbd class="kbd docutils literal notranslate">beautifulsoup4</kbd></kbd></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Le </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">package </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'est pas</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ce que vous voulez. Il s'agit de la version majeure précédente, </font></font><a class="reference external" href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beautiful Soup 3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . De nombreux logiciels utilisent BS3, il est donc toujours disponible, mais si vous écrivez du nouveau code, vous devez l'installer </font></font><code class="docutils literal notranslate"><span class="pre">beautifulsoup4</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.)</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous ne l'avez pas déjà </font></font><code class="docutils literal notranslate"><span class="pre">easy_install</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">installé </font></font><code class="docutils literal notranslate"><span class="pre">pip</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, vous pouvez
 </font></font><a class="reference external" href="http://www.crummy.com/software/BeautifulSoup/download/4.x/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">télécharger l'archive tar source de Beautiful Soup 4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et l'installer avec </font></font><code class="docutils literal notranslate"><span class="pre">setup.py</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">python</kbd> <kbd class="kbd docutils literal notranslate">setup.py</kbd> <kbd class="kbd docutils literal notranslate">install</kbd></kbd></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si tout le reste échoue, la licence de Beautiful Soup vous permet de regrouper l’intégralité de la bibliothèque avec votre application. Vous pouvez télécharger l'archive tar, copier son </font></font><code class="docutils literal notranslate"><span class="pre">bs4</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">répertoire dans la base de code de votre application et utiliser Beautiful Soup sans l'installer du tout.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'utilise Python 3.10 pour développer Beautiful Soup, mais cela devrait fonctionner avec d'autres versions récentes.</font></font></p>
<section id="installing-a-parser">
<span id="parser-installation"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installer un analyseur </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beautiful Soup prend en charge l'analyseur HTML inclus dans la bibliothèque standard de Python, mais il prend également en charge un certain nombre d'analyseurs Python tiers. L’un est l’ </font></font><a class="reference external" href="http://lxml.de/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analyseur lxml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En fonction de votre configuration, vous pouvez installer lxml avec l'une de ces commandes&nbsp;:</font></font></p>
<p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">apt</kbd>-<kbd class="kbd docutils literal notranslate">get</kbd> <kbd class="kbd docutils literal notranslate">install</kbd> <kbd class="kbd docutils literal notranslate">python</kbd>-<kbd class="kbd docutils literal notranslate">lxml</kbd></kbd></p>
<p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">easy_install</kbd> <kbd class="kbd docutils literal notranslate">lxml</kbd></kbd></p>
<p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">pip</kbd> <kbd class="kbd docutils literal notranslate">install</kbd> <kbd class="kbd docutils literal notranslate">lxml</kbd></kbd></p>
<p><font style="vertical-align: inherit;"></font><a class="reference external" href="http://code.google.com/p/html5lib/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une autre alternative est l' analyseur html5lib</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pur Python </font><font style="vertical-align: inherit;">, qui analyse le HTML comme le fait un navigateur Web. En fonction de votre configuration, vous pouvez installer html5lib avec l'une de ces commandes&nbsp;:</font></font></p>
<p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">apt</kbd>-<kbd class="kbd docutils literal notranslate">get</kbd> <kbd class="kbd docutils literal notranslate">install</kbd> <kbd class="kbd docutils literal notranslate">python3</kbd>-<kbd class="kbd docutils literal notranslate">html5lib</kbd></kbd></p>
<p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">pip</kbd> <kbd class="kbd docutils literal notranslate">install</kbd> <kbd class="kbd docutils literal notranslate">html5lib</kbd></kbd></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce tableau résume les avantages et les inconvénients de chaque bibliothèque d'analyseur&nbsp;:</font></font></p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analyseur</font></font></p></td>
<td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisation typique</font></font></p></td>
<td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avantages</font></font></p></td>
<td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Désavantages</font></font></p></td>
</tr>
<tr class="row-even"><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML.parser de Python</font></font></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BeautifulSoup(markup,</span> <span class="pre">"html.parser")</span></code></p></td>
<td><ul class="simple">
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Batteries incluses</font></font></p></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vitesse décente</font></font></p></li>
</ul>
</td>
<td><ul class="simple">
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pas aussi rapide que lxml, moins indulgent que html5lib.</font></font></p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'analyseur HTML de lxml</font></font></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BeautifulSoup(markup,</span> <span class="pre">"lxml")</span></code></p></td>
<td><ul class="simple">
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Très vite</font></font></p></li>
</ul>
</td>
<td><ul class="simple">
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dépendance C externe</font></font></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'analyseur XML de lxml</font></font></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BeautifulSoup(markup,</span> <span class="pre">"lxml-xml")</span></code>
<code class="docutils literal notranslate"><span class="pre">BeautifulSoup(markup,</span> <span class="pre">"xml")</span></code></p></td>
<td><ul class="simple">
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Très vite</font></font></p></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le seul analyseur XML actuellement pris en charge</font></font></p></li>
</ul>
</td>
<td><ul class="simple">
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dépendance C externe</font></font></p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html5lib</font></font></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BeautifulSoup(markup,</span> <span class="pre">"html5lib")</span></code></p></td>
<td><ul class="simple">
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extrêmement indulgent</font></font></p></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analyse les pages de la même manière qu'un navigateur Web</font></font></p></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crée du HTML5 valide</font></font></p></li>
</ul>
</td>
<td><ul class="simple">
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Très lent</font></font></p></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dépendance Python externe</font></font></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous le pouvez, je vous recommande d'installer et d'utiliser lxml pour plus de rapidité.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notez que si un document n'est pas valide, différents analyseurs généreront différents arbres Beautiful Soup pour celui-ci. Voir </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#differences-between-parsers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Différences entre les analyseurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour plus de détails.</font></font></p>
</section>
</section>
<section id="making-the-soup">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faire la soupe </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#making-the-soup" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour analyser un document, transmettez-le au </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
constructeur. Vous pouvez transmettre une chaîne ou un descripteur de fichier ouvert&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"index.html"</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;html&gt;a web page&lt;/html&gt;"</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout d'abord, le document est converti en Unicode et les entités HTML sont converties en caractères Unicode&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;Sacr&amp;eacute; bleu!&lt;/body&gt;&lt;/html&gt;"</span><span class="p">,</span> <span class="s2">"html.parser"</span><span class="p">))</span>
<span class="c1"># &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;Sacré bleu!&lt;/body&gt;&lt;/html&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beautiful Soup analyse ensuite le document en utilisant le meilleur analyseur disponible. Il utilisera un analyseur HTML, sauf si vous lui dites spécifiquement d'utiliser un analyseur XML. (Voir </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analyse XML</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .)</font></font></p>
</section>
<section id="kinds-of-objects">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Types d'objets </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kinds-of-objects" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beautiful Soup transforme un document HTML complexe en une arborescence complexe d'objets Python. Mais vous n'aurez à gérer qu'environ quatre
 </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">types</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d'objets&nbsp;: </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Comment" title="bs4.Commentaire"><code class="xref py py-class docutils literal notranslate"><span class="pre">Comment</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ces objets représentent les </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éléments</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> HTML 
qui composent la page.</font></font></p>
<dl class="py class">
<dt class="sig sig-object py" id="bs4.Tag">
<em class="property"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bs4. </font></font></span></span><span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Étiqueter</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet correspond à une balise XML ou HTML dans le document d'origine.</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;b class="boldest"&gt;Extremely bold&lt;/b&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">b</span>
<span class="nb">type</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
<span class="c1"># &lt;class 'bs4.element.Tag'&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les balises ont de nombreux attributs et méthodes, et j'en couvrirai la plupart dans </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#navigating-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation dans l'arborescence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche dans l'arborescence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pour l’instant, les méthodes les plus importantes d’une balise consistent à accéder à son nom et à ses attributs.</font></font></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bs4.Tag.name">
<span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nom</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag.name" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chaque balise a un nom&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tag</span><span class="o">.</span><span class="n">name</span>
<span class="c1"># 'b'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous modifiez le nom d'une balise, le changement sera reflété dans tout balisage généré par Beautiful Soup sur toute la ligne&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tag</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">"blockquote"</span>
<span class="n">tag</span>
<span class="c1"># &lt;blockquote class="boldest"&gt;Extremely bold&lt;/blockquote&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bs4.Tag.attrs">
<span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attributs</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag.attrs" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une balise HTML ou XML peut avoir n'importe quel nombre d'attributs. La balise </font><font style="vertical-align: inherit;">possède un attribut « id » dont la valeur est « boldest ». Vous pouvez accéder aux attributs d'une balise en traitant la balise comme un dictionnaire&nbsp;:</font></font><code class="docutils literal notranslate"><span class="pre">&lt;b</span>
<span class="pre">id="boldest"&gt;</span></code><font style="vertical-align: inherit;"></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tag</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;b id="boldest"&gt;bold&lt;/b&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span><span class="o">.</span><span class="n">b</span>
<span class="n">tag</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<span class="c1"># 'boldest'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez accéder directement au dictionnaire des attributs en tant que </font></font><code class="docutils literal notranslate"><span class="pre">.attrs</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tag</span><span class="o">.</span><span class="n">attrs</span>
<span class="c1"># {'id': 'boldest'}</span>
<span class="n">tag</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="c1"># dict_keys(['id'])</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez ajouter, supprimer et modifier les attributs d'une balise. Encore une fois, cela se fait en traitant la balise comme un dictionnaire&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tag</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'verybold'</span>
<span class="n">tag</span><span class="p">[</span><span class="s1">'another-attribute'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">tag</span>
<span class="c1"># &lt;b another-attribute="1" id="verybold"&gt;&lt;/b&gt;</span>

<span class="k">del</span> <span class="n">tag</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<span class="k">del</span> <span class="n">tag</span><span class="p">[</span><span class="s1">'another-attribute'</span><span class="p">]</span>
<span class="n">tag</span>
<span class="c1"># &lt;b&gt;bold&lt;/b&gt;</span>

<span class="n">tag</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<span class="c1"># KeyError: 'id'</span>
<span class="n">tag</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'id'</span><span class="p">)</span>
<span class="c1"># None</span>
</pre></div>
</div>
<section id="multi-valued-attributes">
<span id="multivalue"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attributs à valeurs multiples </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#multi-valued-attributes" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML 4 définit quelques attributs pouvant avoir plusieurs valeurs. HTML 5 en supprime quelques-uns, mais en définit quelques autres. L'attribut à valeurs multiples le plus courant est </font></font><code class="docutils literal notranslate"><span class="pre">class</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(c'est-à-dire qu'une balise peut avoir plusieurs classes CSS). D'autres incluent </font></font><code class="docutils literal notranslate"><span class="pre">rel</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code class="docutils literal notranslate"><span class="pre">rev</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code class="docutils literal notranslate"><span class="pre">accept-charset</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,
 </font></font><code class="docutils literal notranslate"><span class="pre">headers</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">accesskey</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Par défaut, Beautiful Soup stocke la ou les valeurs d'un attribut à valeurs multiples sous forme de liste&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">css_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p class="body"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">css_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># ['body']</span>

<span class="n">css_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p class="body strikeout"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">css_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># ['body', 'strikeout']</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque vous reconvertissez une balise en chaîne, les valeurs de tous les attributs à valeurs multiples sont consolidées&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rel_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p&gt;Back to the &lt;a rel="index first"&gt;homepage&lt;/a&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">rel_soup</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">'rel'</span><span class="p">]</span>
<span class="c1"># ['index', 'first']</span>
<span class="n">rel_soup</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">'rel'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'index'</span><span class="p">,</span> <span class="s1">'contents'</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rel_soup</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
<span class="c1"># &lt;p&gt;Back to the &lt;a rel="index contents"&gt;homepage&lt;/a&gt;&lt;/p&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si un attribut </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">semble</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avoir plus d'une valeur, mais qu'il ne s'agit pas d'un attribut à valeurs multiples tel que défini par aucune version du standard HTML, Beautiful Soup le stocke sous la forme d'une simple chaîne&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">id_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p id="my id"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">id_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<span class="c1"># 'my id'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez forcer tous les attributs à être stockés sous forme de chaînes en passant
 </font></font><code class="docutils literal notranslate"><span class="pre">multi_valued_attributes=None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comme argument mot-clé dans le
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">constructeur&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">no_list_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p class="body strikeout"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">,</span> <span class="n">multi_valued_attributes</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">no_list_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># 'body strikeout'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez utiliser </font></font><code class="docutils literal notranslate"><span class="pre">get_attribute_list</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour toujours renvoyer la valeur dans un conteneur de liste, qu'il s'agisse d'une chaîne ou d'une valeur d'attribut à valeurs multiples&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">id_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<span class="c1"># 'my id'</span>
<span class="n">id_soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">get_attribute_list</span><span class="p">(</span><span class="s1">'id'</span><span class="p">)</span>
<span class="c1"># ["my id"]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous analysez un document au format XML, il n'y a pas d'attributs à valeurs multiples&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xml_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p class="body strikeout"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'xml'</span><span class="p">)</span>
<span class="n">xml_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># 'body strikeout'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encore une fois, vous pouvez configurer cela en utilisant l' </font></font><code class="docutils literal notranslate"><span class="pre">multi_valued_attributes</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">class_is_multi</span><span class="o">=</span> <span class="p">{</span> <span class="s1">'*'</span> <span class="p">:</span> <span class="s1">'class'</span><span class="p">}</span>
<span class="n">xml_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p class="body strikeout"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'xml'</span><span class="p">,</span> <span class="n">multi_valued_attributes</span><span class="o">=</span><span class="n">class_is_multi</span><span class="p">)</span>
<span class="n">xml_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># ['body', 'strikeout']</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous n'aurez probablement pas besoin de le faire, mais si vous le faites, utilisez les valeurs par défaut comme guide. Ils implémentent les règles décrites dans la spécification HTML&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4.builder</span> <span class="kn">import</span> <span class="n">builder_registry</span>
<span class="n">builder_registry</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s1">'html'</span><span class="p">)</span><span class="o">.</span><span class="n">DEFAULT_CDATA_LIST_ATTRIBUTES</span>
</pre></div>
</div>
</section>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bs4.NavigableString">
<em class="property"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bs4. </font></font></span></span><span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chaîne Navigable</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd></dd></dl>

<hr class="docutils">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une balise peut contenir des chaînes sous forme de morceaux de texte. Beautiful Soup utilise la </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe pour contenir ces morceaux de texte&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;b class="boldest"&gt;Extremely bold&lt;/b&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">b</span>
<span class="n">tag</span><span class="o">.</span><span class="n">string</span>
<span class="c1"># 'Extremely bold'</span>
<span class="nb">type</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
<span class="c1"># &lt;class 'bs4.element.NavigableString'&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est comme une chaîne Python Unicode, sauf qu'il prend également en charge certaines des fonctionnalités décrites dans </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#navigating-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation dans l'arborescence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche dans l'arborescence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Vous pouvez convertir a
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en chaîne Unicode avec</font></font><code class="docutils literal notranslate"><span class="pre">str</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unicode_string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
<span class="n">unicode_string</span>
<span class="c1"># 'Extremely bold'</span>
<span class="nb">type</span><span class="p">(</span><span class="n">unicode_string</span><span class="p">)</span>
<span class="c1"># &lt;type 'str'&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous ne pouvez pas modifier une chaîne sur place, mais vous pouvez remplacer une chaîne par une autre en utilisant </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#replace-with"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">replace_with()</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tag</span><span class="o">.</span><span class="n">string</span><span class="o">.</span><span class="n">replace_with</span><span class="p">(</span><span class="s2">"No longer bold"</span><span class="p">)</span>
<span class="n">tag</span>
<span class="c1"># &lt;b class="boldest"&gt;No longer bold&lt;/b&gt;</span>
</pre></div>
</div>
<p><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prend en charge la plupart des fonctionnalités décrites dans
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#navigating-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation dans l'arborescence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche dans l'arborescence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais pas toutes. En particulier, puisqu'une chaîne ne peut rien contenir (de la même manière qu'une balise peut contenir une chaîne ou une autre balise), les chaînes ne prennent pas en charge les
 attributs </font></font><code class="docutils literal notranslate"><span class="pre">.contents</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or </font></font><code class="docutils literal notranslate"><span class="pre">.string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou la </font></font><code class="docutils literal notranslate"><span class="pre">find()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous souhaitez utiliser un </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">extérieur de Beautiful Soup, vous devez faire appel </font></font><code class="docutils literal notranslate"><span class="pre">unicode()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">à lui pour le transformer en une chaîne Python Unicode normale. Si vous ne le faites pas, votre chaîne contiendra une référence à l'ensemble de l'arbre d'analyse de Beautiful Soup, même lorsque vous aurez fini d'utiliser Beautiful Soup. C'est un gros gaspillage de mémoire.</font></font></p>
<dl class="py class">
<dt class="sig sig-object py" id="bs4.BeautifulSoup">
<em class="property"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bs4. </font></font></span></span><span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BelleSoupe</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd></dd></dl>

<hr class="docutils">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet représente le document analysé dans son ensemble. Dans la plupart des cas, vous pouvez le traiter comme un </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
objet. Cela signifie qu'il prend en charge la plupart des méthodes décrites dans
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#navigating-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation dans l'arborescence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche dans l'arborescence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez également passer un </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet dans l'une des méthodes définies dans </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#modifying-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modification de l'arborescence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , comme vous le feriez avec un </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cela vous permet de faire des choses comme combiner deux documents analysés&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">doc</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;document&gt;&lt;content/&gt;INSERT FOOTER HERE&lt;/document"</span><span class="p">,</span> <span class="s2">"xml"</span><span class="p">)</span>
<span class="n">footer</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;footer&gt;Here's the footer&lt;/footer&gt;"</span><span class="p">,</span> <span class="s2">"xml"</span><span class="p">)</span>
<span class="n">doc</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">"INSERT FOOTER HERE"</span><span class="p">)</span><span class="o">.</span><span class="n">replace_with</span><span class="p">(</span><span class="n">footer</span><span class="p">)</span>
<span class="c1"># 'INSERT FOOTER HERE'</span>
<span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
<span class="c1"># &lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="c1"># &lt;document&gt;&lt;content/&gt;&lt;footer&gt;Here's the footer&lt;/footer&gt;&lt;/document&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Étant donné que l' </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet ne correspond pas à une véritable balise HTML ou XML, il n'a ni nom ni attribut. Mais parfois, il est utile de le référencer </font></font><code class="docutils literal notranslate"><span class="pre">.name</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(par exemple lors de l'écriture de code qui fonctionne à la fois avec </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des objets), c'est pourquoi il a reçu le </font></font><code class="docutils literal notranslate"><span class="pre">.name</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«&nbsp;[document]&nbsp;» spécial&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">name</span>
<span class="c1"># '[document]'</span>
</pre></div>
</div>
<section id="special-strings">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chaînes spéciales </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#special-strings" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, et
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">couvrent presque tout ce que vous verrez dans un fichier HTML ou XML, mais il reste quelques éléments restants. Le principal que vous rencontrerez probablement est le </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Comment" title="bs4.Commentaire"><code class="xref py py-class docutils literal notranslate"><span class="pre">Comment</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<dl class="py class">
<dt class="sig sig-object py" id="bs4.Comment">
<em class="property"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bs4. </font></font></span></span><span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commentaire</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Comment" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd></dd></dl>

<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s2">"&lt;b&gt;&lt;!--Hey, buddy. Want to buy a used parser?--&gt;&lt;/b&gt;"</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">comment</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">string</span>
<span class="nb">type</span><span class="p">(</span><span class="n">comment</span><span class="p">)</span>
<span class="c1"># &lt;class 'bs4.element.Comment'&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Comment" title="bs4.Commentaire"><code class="xref py py-class docutils literal notranslate"><span class="pre">Comment</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet est juste un type spécial de</font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">comment</span>
<span class="c1"># 'Hey, buddy. Want to buy a used parser'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais lorsqu'il apparaît dans un document HTML, un </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Comment" title="bs4.Commentaire"><code class="xref py py-class docutils literal notranslate"><span class="pre">Comment</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s'affiche avec un formatage spécial&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># &lt;b&gt;</span>
<span class="c1">#  &lt;!--Hey, buddy. Want to buy a used parser?--&gt;</span>
<span class="c1"># &lt;/b&gt;</span>
</pre></div>
</div>
<section id="for-html-documents">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour les documents HTML </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#for-html-documents" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beautiful Soup définit quelques </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sous-classes pour contenir des chaînes trouvées dans des balises HTML spécifiques. Cela facilite la sélection du corps principal de la page, en ignorant les chaînes qui représentent probablement les directives de programmation trouvées dans la page. </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Ces classes sont nouvelles dans Beautiful Soup 4.9.0 et l'analyseur html5lib ne les utilise pas.)</font></font></cite></p>
<dl class="py class">
<dt class="sig sig-object py" id="bs4.Stylesheet">
<em class="property"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bs4. </font></font></span></span><span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feuille de style</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Stylesheet" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd></dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sous-classe qui représente les feuilles de style CSS intégrées&nbsp;; c'est-à-dire toutes les chaînes trouvées à l'intérieur d'une </font></font><code class="docutils literal notranslate"><span class="pre">&lt;style&gt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">balise lors de l'analyse du document.</font></font></p>
<dl class="py class">
<dt class="sig sig-object py" id="bs4.Script">
<em class="property"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bs4. </font></font></span></span><span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scénario</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Script" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd></dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sous-classe qui représente le Javascript intégré&nbsp;; c'est-à-dire toutes les chaînes trouvées à l'intérieur d'une </font></font><code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">balise lors de l'analyse du document.</font></font></p>
<dl class="py class">
<dt class="sig sig-object py" id="bs4.Template">
<em class="property"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bs4. </font></font></span></span><span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modèle</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Template" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd></dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sous-classe qui représente les modèles HTML intégrés&nbsp;; c'est-à-dire toutes les chaînes trouvées à l'intérieur d'une </font></font><code class="docutils literal notranslate"><span class="pre">&lt;template&gt;</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">balise lors de l'analyse du document.</font></font></p>
</section>
<section id="for-xml-documents">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour les documents XML </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#for-xml-documents" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beautiful Soup définit certaines </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classes pour contenir des types spéciaux de chaînes que l'on peut trouver dans les documents XML. Comme </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Comment" title="bs4.Commentaire"><code class="xref py py-class docutils literal notranslate"><span class="pre">Comment</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ces classes sont des sous-classes
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui ajoutent quelque chose de plus à la chaîne en sortie.</font></font></p>
<dl class="py class">
<dt class="sig sig-object py" id="bs4.Declaration">
<em class="property"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bs4. </font></font></span></span><span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Déclaration</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Declaration" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd></dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sous-classe représentant la </font></font><a class="reference external" href="https://www.w3.org/TR/REC-xml/#sec-prolog-dtd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">déclaration</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> au début d'un document XML.</font></font></p>
<dl class="py class">
<dt class="sig sig-object py" id="bs4.Doctype">
<em class="property"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bs4. </font></font></span></span><span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Type de document</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Doctype" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd></dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sous-classe représentant la </font></font><a class="reference external" href="https://www.w3.org/TR/REC-xml/#dt-doctype"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">déclaration du type de document</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui peut être trouvée au début d'un document XML.</font></font></p>
<dl class="py class">
<dt class="sig sig-object py" id="bs4.CData">
<em class="property"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bs4. </font></font></span></span><span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CData</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.CData" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd></dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sous-classe qui représente une </font></font><a class="reference external" href="https://www.w3.org/TR/REC-xml/#sec-cdata-sect"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">section CData</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
<dl class="py class">
<dt class="sig sig-object py" id="bs4.ProcessingInstruction">
<em class="property"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bs4. </font></font></span></span><span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instruction de traitement</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.ProcessingInstruction" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd></dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sous </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-classe qui représente le contenu d'une </font></font><a class="reference external" href="https://www.w3.org/TR/REC-xml/#sec-pi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instruction de traitement XML</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
</section>
</section>
</section>
<section id="navigating-the-tree">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parcourir l'arborescence </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#navigating-the-tree" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici à nouveau le document HTML «&nbsp;Trois sœurs&nbsp;»&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">html_doc</span> <span class="o">=</span> <span class="s2">"""</span>
<span class="s2">&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;</span>
<span class="s2">&lt;body&gt;</span>
<span class="s2">&lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span>

<span class="s2">&lt;p class="story"&gt;Once upon a time there were three little sisters; and their names were</span>
<span class="s2">&lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="s2">&lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; and</span>
<span class="s2">&lt;a href="http://example.com/tillie" class="sister" id="link3"&gt;Tillie&lt;/a&gt;;</span>
<span class="s2">and they lived at the bottom of a well.&lt;/p&gt;</span>

<span class="s2">&lt;p class="story"&gt;...&lt;/p&gt;</span>
<span class="s2">"""</span>

<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html_doc</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je vais utiliser ceci comme exemple pour vous montrer comment passer d'une partie d'un document à une autre.</font></font></p>
<section id="going-down">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descendre </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#going-down" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les balises peuvent contenir des chaînes et plusieurs balises. Ces éléments sont les
 </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enfants</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de la balise . Beautiful Soup fournit de nombreux attributs différents pour naviguer et parcourir les enfants d'une balise.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notez que les chaînes Beautiful Soup ne prennent en charge aucun de ces attributs, car une chaîne ne peut pas avoir d'enfants.</font></font></p>
<section id="navigating-using-tag-names">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Naviguer à l'aide des noms de balises </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#navigating-using-tag-names" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le moyen le plus simple de parcourir l’arborescence d’analyse consiste à rechercher une balise par son nom. Pour ce faire, vous pouvez utiliser la </font></font><code class="docutils literal notranslate"><span class="pre">find()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"head"</span><span class="p">)</span>
<span class="c1"># &lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour plus de commodité, dire simplement le nom de la balise souhaitée équivaut à </font></font><code class="docutils literal notranslate"><span class="pre">find()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(si aucun attribut intégré ne porte ce nom). Si vous voulez la balise &lt;head&gt;, dites simplement</font></font><code class="docutils literal notranslate"><span class="pre">soup.head</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">head</span>
<span class="c1"># &lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;</span>

<span class="n">soup</span><span class="o">.</span><span class="n">title</span>
<span class="c1"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez utiliser cette astuce encore et encore pour zoomer sur une certaine partie de l'arbre d'analyse. Ce code obtient la première balise &lt;b&gt; sous la balise &lt;body&gt;&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">b</span>
<span class="c1"># &lt;b&gt;The Dormouse's story&lt;/b&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">find()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(et son équivalent pratique) vous donne uniquement la </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">première</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> balise de ce nom&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">a</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous avez besoin d'obtenir </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toutes</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les balises &lt;a&gt;, vous pouvez utiliser</font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'a'</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour des tâches plus complexes, telles que la correspondance de modèles et le filtrage, vous pouvez utiliser les méthodes décrites dans </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche dans l'arborescence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
</section>
<section id="contents-and-children">
<h3><code class="docutils literal notranslate"><span class="pre">.contents</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">.children</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#contents-and-children" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les enfants d'une balise sont disponibles dans une liste appelée</font></font><code class="docutils literal notranslate"><span class="pre">.contents</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">head_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">head</span>
<span class="n">head_tag</span>
<span class="c1"># &lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;</span>

<span class="n">head_tag</span><span class="o">.</span><span class="n">contents</span>
<span class="c1"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>

<span class="n">title_tag</span> <span class="o">=</span> <span class="n">head_tag</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">title_tag</span>
<span class="c1"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>
<span class="n">title_tag</span><span class="o">.</span><span class="n">contents</span>
<span class="c1"># ['The Dormouse's story']</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet lui-même a des enfants. Dans ce cas, la balise &lt;html&gt; est l'enfant de l' </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet.&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span>
<span class="c1"># 1</span>
<span class="n">soup</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="c1"># 'html'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une chaîne n'a pas de </font></font><code class="docutils literal notranslate"><span class="pre">.contents</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, car elle ne peut rien contenir&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="n">title_tag</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">text</span><span class="o">.</span><span class="n">contents</span>
<span class="c1"># AttributeError: 'NavigableString' object has no attribute 'contents'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Au lieu de les obtenir sous forme de liste, vous pouvez parcourir les enfants d'une balise à l'aide du </font></font><code class="docutils literal notranslate"><span class="pre">.children</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">générateur&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">title_tag</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
<span class="c1"># The Dormouse's story</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous souhaitez modifier les enfants d'une balise, utilisez les méthodes décrites dans
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#modifying-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modification de l'arborescence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ne modifiez pas directement la </font></font><code class="docutils literal notranslate"><span class="pre">.contents</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">liste : cela peut entraîner des problèmes subtils et difficiles à repérer.</font></font></p>
</section>
<section id="descendants">
<h3><code class="docutils literal notranslate"><span class="pre">.descendants</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#descendants" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les attributs </font></font><code class="docutils literal notranslate"><span class="pre">.contents</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et ne prennent en compte que les enfants </font><cite><font style="vertical-align: inherit;">directs</font></cite></font><code class="docutils literal notranslate"><span class="pre">.children</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d'une balise
 </font><font style="vertical-align: inherit;">. Par exemple, la balise &lt;head&gt; a un seul enfant direct&nbsp;: la balise &lt;title&gt;&nbsp;:</font></font><cite><font style="vertical-align: inherit;"></font></cite><font style="vertical-align: inherit;"></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">head_tag</span><span class="o">.</span><span class="n">contents</span>
<span class="c1"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais la balise &lt;title&gt; elle-même a un enfant : la chaîne « L'histoire du Loir ». Il y a un sens dans lequel cette chaîne est également un enfant de la balise &lt;head&gt;. L' </font></font><code class="docutils literal notranslate"><span class="pre">.descendants</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attribut vous permet de parcourir </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tous</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
les enfants d'une balise, de manière récursive&nbsp;: ses enfants directs, les enfants de ses enfants directs, et ainsi de suite&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">head_tag</span><span class="o">.</span><span class="n">descendants</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
<span class="c1"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>
<span class="c1"># The Dormouse's story</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La balise &lt;head&gt; n'a qu'un seul enfant, mais elle a deux descendants : la balise &lt;title&gt; et l'enfant de la balise &lt;title&gt;. L' </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet n'a qu'un seul enfant direct (la balise &lt;html&gt;), mais il a de nombreux descendants&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">children</span><span class="p">))</span>
<span class="c1"># 1</span>
<span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">descendants</span><span class="p">))</span>
<span class="c1"># 26</span>
</pre></div>
</div>
</section>
<section id="string">
<span id="id5"></span><h3><code class="docutils literal notranslate"><span class="pre">.string</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#string" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si une balise n'a qu'un seul enfant et que cet enfant est un </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, l'enfant est rendu disponible en tant que</font></font><code class="docutils literal notranslate"><span class="pre">.string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title_tag</span><span class="o">.</span><span class="n">string</span>
<span class="c1"># 'The Dormouse's story'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si le seul enfant d'une balise est une autre balise et </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que cette</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> balise a un
 </font></font><code class="docutils literal notranslate"><span class="pre">.string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, alors la balise parent est considérée comme ayant la même chose
 </font></font><code class="docutils literal notranslate"><span class="pre">.string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que son enfant&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">head_tag</span><span class="o">.</span><span class="n">contents</span>
<span class="c1"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>

<span class="n">head_tag</span><span class="o">.</span><span class="n">string</span>
<span class="c1"># 'The Dormouse's story'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">.string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si une balise contient plus d'une chose, alors ce à quoi elle doit faire référence </font><font style="vertical-align: inherit;">n'est pas clair
 , </font></font><code class="docutils literal notranslate"><span class="pre">.string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elle est donc définie comme suit
</font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
<span class="c1"># None</span>
</pre></div>
</div>
</section>
<section id="strings-and-stripped-strings">
<span id="string-generators"></span><h3><code class="docutils literal notranslate"><span class="pre">.strings</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">stripped_strings</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#strings-and-stripped-strings" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S'il y a plusieurs éléments dans une balise, vous pouvez toujours examiner uniquement les chaînes. Utilisez le </font></font><code class="docutils literal notranslate"><span class="pre">.strings</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">générateur pour voir toutes les chaînes descendantes&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">string</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">strings</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">string</span><span class="p">))</span>
    <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span>
<span class="c1"># "The Dormouse's story"</span>
<span class="c1"># '\n'</span>
<span class="c1"># '\n'</span>
<span class="c1"># "The Dormouse's story"</span>
<span class="c1"># '\n'</span>
<span class="c1"># 'Once upon a time there were three little sisters; and their names were\n'</span>
<span class="c1"># 'Elsie'</span>
<span class="c1"># ',\n'</span>
<span class="c1"># 'Lacie'</span>
<span class="c1"># ' and\n'</span>
<span class="c1"># 'Tillie'</span>
<span class="c1"># ';\nand they lived at the bottom of a well.'</span>
<span class="c1"># '\n'</span>
<span class="c1"># '...'</span>
<span class="c1"># '\n'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les nouvelles lignes et les espaces qui séparent les balises sont également des chaînes. Vous pouvez supprimer les espaces supplémentaires en utilisant le </font></font><code class="docutils literal notranslate"><span class="pre">.stripped_strings</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">générateur à la place&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">string</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">stripped_strings</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">string</span><span class="p">))</span>
<span class="c1"># "The Dormouse's story"</span>
<span class="c1"># "The Dormouse's story"</span>
<span class="c1"># 'Once upon a time there were three little sisters; and their names were'</span>
<span class="c1"># 'Elsie'</span>
<span class="c1"># ','</span>
<span class="c1"># 'Lacie'</span>
<span class="c1"># 'and'</span>
<span class="c1"># 'Tillie'</span>
<span class="c1"># ';\n and they lived at the bottom of a well.'</span>
<span class="c1"># '...'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ici, les chaînes composées entièrement d'espaces sont ignorées et les espaces au début et à la fin des chaînes sont supprimés.</font></font></p>
</section>
</section>
<section id="going-up">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monter </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#going-up" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Poursuivant l'analogie de « l'arbre généalogique », chaque balise et chaque chaîne a un
 </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parent</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : la balise qui la contient.</font></font></p>
<section id="parent">
<span id="id6"></span><h3><code class="docutils literal notranslate"><span class="pre">.parent</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parent" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez accéder au parent d'un élément avec l' </font></font><code class="docutils literal notranslate"><span class="pre">.parent</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attribut. Dans l'exemple de document « trois sœurs », la balise &lt;head&gt; est le parent de la balise &lt;title&gt;&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">title</span>
<span class="n">title_tag</span>
<span class="c1"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>
<span class="n">title_tag</span><span class="o">.</span><span class="n">parent</span>
<span class="c1"># &lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La chaîne de titre elle-même a un parent : la balise &lt;title&gt; qui la contient :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title_tag</span><span class="o">.</span><span class="n">string</span><span class="o">.</span><span class="n">parent</span>
<span class="c1"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le parent d'une balise de niveau supérieur comme &lt;html&gt; est l' </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet lui-même&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">html_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">html</span>
<span class="nb">type</span><span class="p">(</span><span class="n">html_tag</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
<span class="c1"># &lt;class 'bs4.BeautifulSoup'&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et le </font></font><code class="docutils literal notranslate"><span class="pre">.parent</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d'un </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet est défini comme Aucun&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
<span class="c1"># None</span>
</pre></div>
</div>
</section>
<section id="parents">
<span id="id7"></span><h3><code class="docutils literal notranslate"><span class="pre">.parents</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parents" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez parcourir tous les parents d'un élément avec
 </font></font><code class="docutils literal notranslate"><span class="pre">.parents</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cet exemple utilise </font></font><code class="docutils literal notranslate"><span class="pre">.parents</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour voyager d'une balise &lt;a&gt; enfouie profondément dans le document jusqu'au sommet du document&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">link</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">a</span>
<span class="n">link</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;</span>
<span class="k">for</span> <span class="n">parent</span> <span class="ow">in</span> <span class="n">link</span><span class="o">.</span><span class="n">parents</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="c1"># p</span>
<span class="c1"># body</span>
<span class="c1"># html</span>
<span class="c1"># [document]</span>
</pre></div>
</div>
</section>
</section>
<section id="going-sideways">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aller de côté </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#going-sideways" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prenons un document simple comme celui-ci&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sibling_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;a&gt;&lt;b&gt;text1&lt;/b&gt;&lt;c&gt;text2&lt;/c&gt;&lt;/a&gt;"</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sibling_soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1">#   &lt;a&gt;</span>
<span class="c1">#    &lt;b&gt;</span>
<span class="c1">#     text1</span>
<span class="c1">#    &lt;/b&gt;</span>
<span class="c1">#    &lt;c&gt;</span>
<span class="c1">#     text2</span>
<span class="c1">#    &lt;/c&gt;</span>
<span class="c1">#   &lt;/a&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La balise &lt;b&gt; et la balise &lt;c&gt; sont au même niveau : elles sont toutes deux des enfants directs de la même balise. Nous les appelons </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">frères et sœurs</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Lorsqu'un document est joliment imprimé, les frères et sœurs apparaissent au même niveau d'indentation. Vous pouvez également utiliser cette relation dans le code que vous écrivez.</font></font></p>
<section id="next-sibling-and-previous-sibling">
<h3><code class="docutils literal notranslate"><span class="pre">.next_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">.previous_sibling</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#next-sibling-and-previous-sibling" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez utiliser </font></font><code class="docutils literal notranslate"><span class="pre">.next_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">.previous_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour naviguer entre les éléments de page qui se trouvent au même niveau de l'arborescence d'analyse&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sibling_soup</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">next_sibling</span>
<span class="c1"># &lt;c&gt;text2&lt;/c&gt;</span>

<span class="n">sibling_soup</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">previous_sibling</span>
<span class="c1"># &lt;b&gt;text1&lt;/b&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La balise &lt;b&gt; a un </font></font><code class="docutils literal notranslate"><span class="pre">.next_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais non </font></font><code class="docutils literal notranslate"><span class="pre">.previous_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, car il n'y a rien avant la balise &lt;b&gt; </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">au même niveau de l'arborescence</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pour la même raison, la balise &lt;c&gt; a un </font></font><code class="docutils literal notranslate"><span class="pre">.previous_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mais non</font></font><code class="docutils literal notranslate"><span class="pre">.next_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sibling_soup</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">previous_sibling</span><span class="p">)</span>
<span class="c1"># None</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sibling_soup</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">next_sibling</span><span class="p">)</span>
<span class="c1"># None</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les chaînes «&nbsp;text1&nbsp;» et «&nbsp;text2&nbsp;» ne sont </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pas</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> frères et sœurs, car ils n'ont pas le même parent&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sibling_soup</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">string</span>
<span class="c1"># 'text1'</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sibling_soup</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">string</span><span class="o">.</span><span class="n">next_sibling</span><span class="p">)</span>
<span class="c1"># None</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans les documents réels, le </font></font><code class="docutils literal notranslate"><span class="pre">.next_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code class="docutils literal notranslate"><span class="pre">.previous_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d'une balise sera généralement une chaîne contenant des espaces. Revenons au document des « trois sœurs »&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># &lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1"># &lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; and</span>
<span class="c1"># &lt;a href="http://example.com/tillie" class="sister" id="link3"&gt;Tillie&lt;/a&gt;;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pourriez penser que la </font></font><code class="docutils literal notranslate"><span class="pre">.next_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">première balise &lt;a&gt; serait la deuxième balise &lt;a&gt;. Mais en fait, c'est une chaîne : la virgule et la nouvelle ligne qui séparent la première balise &lt;a&gt; de la seconde :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">link</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">a</span>
<span class="n">link</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;</span>

<span class="n">link</span><span class="o">.</span><span class="n">next_sibling</span>
<span class="c1"># ',\n '</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La deuxième balise &lt;a&gt; est alors celle </font></font><code class="docutils literal notranslate"><span class="pre">.next_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de la chaîne virgule&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">link</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">next_sibling</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;</span>
</pre></div>
</div>
</section>
<section id="next-siblings-and-previous-siblings">
<span id="sibling-generators"></span><h3><code class="docutils literal notranslate"><span class="pre">.next_siblings</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">.previous_siblings</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#next-siblings-and-previous-siblings" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez parcourir les frères et sœurs d'une balise avec </font></font><code class="docutils literal notranslate"><span class="pre">.next_siblings</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou
</font></font><code class="docutils literal notranslate"><span class="pre">.previous_siblings</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">sibling</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">next_siblings</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">sibling</span><span class="p">))</span>
<span class="c1"># ',\n'</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;</span>
<span class="c1"># ' and\n'</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;</span>
<span class="c1"># '; and they lived at the bottom of a well.'</span>

<span class="k">for</span> <span class="n">sibling</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">"link3"</span><span class="p">)</span><span class="o">.</span><span class="n">previous_siblings</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">sibling</span><span class="p">))</span>
<span class="c1"># ' and\n'</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;</span>
<span class="c1"># ',\n'</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;</span>
<span class="c1"># 'Once upon a time there were three little sisters; and their names were\n'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Si la syntaxe des arguments permettant de rechercher des balises en fonction de leur valeur d'attribut ne vous est pas familière, ne vous inquiétez pas ; cela sera abordé plus loin dans </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les arguments des mots-clés</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .)</font></font></p>
</section>
</section>
<section id="going-back-and-forth">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aller et venir </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#going-back-and-forth" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jetez un œil au début du document des « trois sœurs »&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># &lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;</span>
<span class="c1"># &lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span>
</pre></div>
</div>
<p id="document-order"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un analyseur HTML prend cette chaîne de caractères et la transforme en une série d'événements : « ouvrir une balise &lt;html&gt; », « ouvrir une balise &lt;head&gt; », « ouvrir une balise &lt;title&gt; », « ajouter une chaîne », « fermez la balise &lt;title&gt; », « ouvrez une balise &lt;p&gt; », etc. L'ordre dans lequel les balises d'ouverture et les chaînes sont rencontrées est appelé </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ordre du document</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Beautiful Soup propose des outils pour rechercher les éléments d'un document dans l'ordre des documents.</font></font></p>
<section id="next-element-and-previous-element">
<span id="element-generators"></span><h3><code class="docutils literal notranslate"><span class="pre">.next_element</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">.previous_element</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#next-element-and-previous-element" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code class="docutils literal notranslate"><span class="pre">.next_element</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attribut d'une chaîne ou d'une balise pointe vers tout ce qui a été analysé immédiatement après l'ouverture de la balise actuelle ou après la chaîne actuelle. C'est peut-être la même chose que </font></font><code class="docutils literal notranslate"><span class="pre">.next_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais c'est généralement radicalement différent.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici la dernière balise &lt;a&gt; du document « trois sœurs ». C'est
 </font></font><code class="docutils literal notranslate"><span class="pre">.next_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une chaîne : la conclusion de la phrase qui a été interrompue par le début de la balise &lt;a&gt; :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">last_a_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">"link3"</span><span class="p">)</span>
<span class="n">last_a_tag</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;</span>

<span class="n">last_a_tag</span><span class="o">.</span><span class="n">next_sibling</span>
<span class="c1"># ';\nand they lived at the bottom of a well.'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais le </font></font><code class="docutils literal notranslate"><span class="pre">.next_element</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contenu de cette balise &lt;a&gt;, ce qui a été analysé immédiatement après la balise &lt;a&gt;, n'est </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pas</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le reste de cette phrase : c'est la chaîne « Tillie » à l'intérieur :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">last_a_tag</span><span class="o">.</span><span class="n">next_element</span>
<span class="c1"># 'Tillie'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C'est parce que dans le balisage original, le mot « Tillie » apparaissait avant ce point-virgule. L'analyseur a rencontré une balise &lt;a&gt;, puis le mot « Tillie », puis la balise de fermeture &lt;/a&gt;, puis le point-virgule et le reste de la phrase. Le point-virgule est au même niveau que la balise &lt;a&gt;, mais le mot « Tillie » a été rencontré en premier.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code class="docutils literal notranslate"><span class="pre">.previous_element</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attribut est exactement le contraire de
 </font></font><code class="docutils literal notranslate"><span class="pre">.next_element</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Il pointe vers la balise ou la chaîne d'ouverture qui a été analysée immédiatement avant celle-ci&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">last_a_tag</span><span class="o">.</span><span class="n">previous_element</span>
<span class="c1"># ' and\n'</span>
<span class="n">last_a_tag</span><span class="o">.</span><span class="n">previous_element</span><span class="o">.</span><span class="n">next_element</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;</span>
</pre></div>
</div>
</section>
<section id="next-elements-and-previous-elements">
<h3><code class="docutils literal notranslate"><span class="pre">.next_elements</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">.previous_elements</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#next-elements-and-previous-elements" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous devriez avoir l’idée maintenant. Vous pouvez utiliser ces itérateurs pour avancer ou reculer dans le document au fur et à mesure de son analyse&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">last_a_tag</span><span class="o">.</span><span class="n">next_elements</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">element</span><span class="p">))</span>
<span class="c1"># 'Tillie'</span>
<span class="c1"># ';\nand they lived at the bottom of a well.'</span>
<span class="c1"># '\n'</span>
<span class="c1"># &lt;p class="story"&gt;...&lt;/p&gt;</span>
<span class="c1"># '...'</span>
<span class="c1"># '\n'</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="searching-the-tree">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche dans l'arbre </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-the-tree" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beautiful Soup définit de nombreuses méthodes de recherche dans l'arbre d'analyse, mais elles sont toutes très similaires. Je vais passer beaucoup de temps à expliquer les deux méthodes les plus populaires&nbsp;: </font></font><code class="docutils literal notranslate"><span class="pre">find()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Les autres méthodes utilisent presque exactement les mêmes arguments, je vais donc les aborder brièvement.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encore une fois, je prendrai comme exemple le document « trois sœurs »&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">html_doc</span> <span class="o">=</span> <span class="s2">"""</span>
<span class="s2">&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;</span>
<span class="s2">&lt;body&gt;</span>
<span class="s2">&lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span>

<span class="s2">&lt;p class="story"&gt;Once upon a time there were three little sisters; and their names were</span>
<span class="s2">&lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="s2">&lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; and</span>
<span class="s2">&lt;a href="http://example.com/tillie" class="sister" id="link3"&gt;Tillie&lt;/a&gt;;</span>
<span class="s2">and they lived at the bottom of a well.&lt;/p&gt;</span>

<span class="s2">&lt;p class="story"&gt;...&lt;/p&gt;</span>
<span class="s2">"""</span>

<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html_doc</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En passant un filtre à une méthode comme </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, vous pouvez zoomer sur les parties du document qui vous intéressent.</font></font></p>
<section id="kinds-of-filters">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Types de filtres </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kinds-of-filters" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avant de parler en détail des </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthodes similaires, je souhaite montrer des exemples de différents filtres que vous pouvez transmettre à ces méthodes. Ces filtres apparaissent encore et encore dans l'API de recherche. Vous pouvez les utiliser pour filtrer en fonction du nom d'une balise, de ses attributs, du texte d'une chaîne ou d'une combinaison de ceux-ci.</font></font></p>
<section id="a-string">
<span id="id8"></span><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un string </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-string" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le filtre le plus simple est une chaîne. Transmettez une chaîne à une méthode de recherche et Beautiful Soup effectuera une correspondance de nom de balise avec cette chaîne exacte. Ce code trouve toutes les balises &lt;b&gt; dans le document&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'b'</span><span class="p">)</span>
<span class="c1"># [&lt;b&gt;The Dormouse's story&lt;/b&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous transmettez une chaîne d'octets, Beautiful Soup supposera que la chaîne est codée en UTF-8. Vous pouvez éviter cela en passant une chaîne Unicode à la place.</font></font></p>
</section>
<section id="a-regular-expression">
<span id="id9"></span><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une expression régulière </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-regular-expression" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous transmettez un objet d'expression régulière, Beautiful Soup filtrera cette expression régulière en utilisant sa </font></font><code class="docutils literal notranslate"><span class="pre">search()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode. Ce code trouve toutes les balises dont le nom commence par la lettre « b » ; dans ce cas, la balise &lt;body&gt; et la balise &lt;b&gt;&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">"^b"</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="c1"># body</span>
<span class="c1"># b</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce code trouve toutes les balises dont les noms contiennent la lettre 't' :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">"t"</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="c1"># html</span>
<span class="c1"># title</span>
</pre></div>
</div>
</section>
<section id="true">
<h3><code class="docutils literal notranslate"><span class="pre">True</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#true" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La valeur </font></font><code class="docutils literal notranslate"><span class="pre">True</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">correspond à toutes les balises possibles. Ce code trouve </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toutes</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
les balises du document, mais aucune des chaînes de texte&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="c1"># html</span>
<span class="c1"># head</span>
<span class="c1"># title</span>
<span class="c1"># body</span>
<span class="c1"># p</span>
<span class="c1"># b</span>
<span class="c1"># p</span>
<span class="c1"># a</span>
<span class="c1"># a</span>
<span class="c1"># a</span>
<span class="c1"># p</span>
</pre></div>
</div>
</section>
<section id="a-function">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une fonction </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-function" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si aucune des autres correspondances ne fonctionne pour vous, définissez une fonction qui prend un élément comme seul argument. La fonction doit retourner
 </font></font><code class="docutils literal notranslate"><span class="pre">True</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si l'argument correspond, et </font></font><code class="docutils literal notranslate"><span class="pre">False</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sinon.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici une fonction qui renvoie </font></font><code class="docutils literal notranslate"><span class="pre">True</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si une balise définit l'attribut « class » mais ne définit pas l'attribut « id »&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">has_class_but_no_id</span><span class="p">(</span><span class="n">tag</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">tag</span><span class="o">.</span><span class="n">has_attr</span><span class="p">(</span><span class="s1">'class'</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">tag</span><span class="o">.</span><span class="n">has_attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passez cette fonction </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et vous récupérerez toutes les balises &lt;p&gt;&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">has_class_but_no_id</span><span class="p">)</span>
<span class="c1"># [&lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;,</span>
<span class="c1">#  &lt;p class="story"&gt;Once upon a time there were…bottom of a well.&lt;/p&gt;,</span>
<span class="c1">#  &lt;p class="story"&gt;...&lt;/p&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cette fonction récupère uniquement les balises &lt;p&gt;. Il ne récupère pas les balises &lt;a&gt;, car ces balises définissent à la fois « class » et « id ». Il ne récupère pas les balises comme &lt;html&gt; et &lt;title&gt;, car ces balises ne définissent pas la « classe ».</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La fonction peut être aussi compliquée que nécessaire. Voici une fonction qui renvoie </font></font><code class="docutils literal notranslate"><span class="pre">True</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si une balise est entourée d'objets chaîne&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">NavigableString</span>
<span class="k">def</span> <span class="nf">surrounded_by_strings</span><span class="p">(</span><span class="n">tag</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">next_element</span><span class="p">,</span> <span class="n">NavigableString</span><span class="p">)</span>
            <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">previous_element</span><span class="p">,</span> <span class="n">NavigableString</span><span class="p">))</span>

<span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">surrounded_by_strings</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="c1"># body</span>
<span class="c1"># p</span>
<span class="c1"># a</span>
<span class="c1"># a</span>
<span class="c1"># a</span>
<span class="c1"># p</span>
</pre></div>
</div>
</section>
<section id="a-list">
<span id="id10"></span><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une liste </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-list" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous transmettez une liste, Beautiful Soup recherchera une correspondance avec
 </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'importe quelle</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> chaîne, expression régulière ou fonction de cette liste. Ce code trouve toutes les balises &lt;a&gt; </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> toutes les balises &lt;b&gt;&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">([</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">])</span>
<span class="c1"># [&lt;b&gt;The Dormouse's story&lt;/b&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>
</pre></div>
</div>
<p id="the-value-true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous sommes maintenant prêts à examiner les méthodes de recherche en détail.</font></font></p>
</section>
</section>
<section id="find-all">
<h2><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-all" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signature de la méthode&nbsp;: find_all( </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attrs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attrs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#recursive"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recursive</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#limit"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">limit</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">**kwargs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode examine les descendants d'une balise et récupère </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tous</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les descendants qui correspondent à vos filtres. J'ai donné plusieurs exemples dans </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kinds-of-filters"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Types de filtres</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais en voici quelques autres&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"title"</span><span class="p">)</span>
<span class="c1"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"p"</span><span class="p">,</span> <span class="s2">"title"</span><span class="p">)</span>
<span class="c1"># [&lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">"link2"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;]</span>

<span class="kn">import</span> <span class="nn">re</span>
<span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">"sisters"</span><span class="p">))</span>
<span class="c1"># 'Once upon a time there were three little sisters; and their names were\n'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certains d’entre eux devraient vous sembler familiers, mais d’autres sont nouveaux. Que signifie transmettre une valeur pour </font></font><code class="docutils literal notranslate"><span class="pre">string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou </font></font><code class="docutils literal notranslate"><span class="pre">id</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Pourquoi
 </font><font style="vertical-align: inherit;">trouve-t-on une balise &lt;p&gt; avec la classe CSS «&nbsp;titre&nbsp;»&nbsp;? Examinons les arguments de </font><font style="vertical-align: inherit;">.</font></font><code class="docutils literal notranslate"><span class="pre">find_all("p",</span> <span class="pre">"title")</span></code><font style="vertical-align: inherit;"></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"></font></p>
<section id="the-name-argument">
<span id="name"></span><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code class="docutils literal notranslate"><span class="pre">name</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-name-argument" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transmettez une valeur pour </font></font><code class="docutils literal notranslate"><span class="pre">name</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et vous indiquerez à Beautiful Soup de ne prendre en compte que les balises portant certains noms. Les chaînes de texte seront ignorées, tout comme les balises dont les noms ne correspondent pas.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C'est l'utilisation la plus simple :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"title"</span><span class="p">)</span>
<span class="c1"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rappelez-vous des </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kinds-of-filters"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Types de filtres</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que la valeur de </font></font><code class="docutils literal notranslate"><span class="pre">name</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peut être </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-string"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une chaîne</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-regular-expression"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une expression régulière</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-list"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une liste</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-function"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une fonction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-value-true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la valeur True</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
</section>
<section id="the-keyword-arguments">
<span id="kwargs"></span><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les arguments des mots-clés </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-keyword-arguments" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout argument de mot-clé non reconnu sera transformé en un filtre qui correspond aux balises en fonction de leurs attributs.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous transmettez une valeur pour un argument appelé </font></font><code class="docutils literal notranslate"><span class="pre">id</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Beautiful Soup filtrera la valeur de l'attribut «&nbsp;id&nbsp;» de chaque balise&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">'link2'</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout comme pour les balises, vous pouvez filtrer un attribut en fonction d' </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-string"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une chaîne</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-regular-expression"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d'une expression régulière</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-list"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d'une liste</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-function"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d'une fonction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-value-true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de la valeur True</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous transmettez un objet d'expression régulière pour </font></font><code class="docutils literal notranslate"><span class="pre">href</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Beautiful Soup fera correspondre le modèle à la valeur de l'attribut 'href' de chaque balise&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">"elsie"</span><span class="p">))</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La valeur </font></font><code class="docutils literal notranslate"><span class="pre">True</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">correspond à chaque balise qui définit l'attribut. Ce code trouve </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toutes</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les balises avec un </font></font><code class="docutils literal notranslate"><span class="pre">id</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attribut&nbsp;:</font></font></p>
<blockquote>
<div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">soup.find_all(id=True) # [ </font><font style="vertical-align: inherit;">&lt;a class=”sister” href=” http://example.com/elsie ” id=”link1”&gt;</font><font style="vertical-align: inherit;"> Elsie&lt;/a&gt;, # &lt;a class=”sister” href=” </font><a class="reference external" href="http://example.com/lacie"><font style="vertical-align: inherit;">http://exemple.com/lacie</font></a><font style="vertical-align: inherit;"> ” id=”link2”&gt;Lacie&lt;/a&gt;, # &lt;a class=”sister” href=” </font><a class="reference external" href="http://example.com/tillie"><font style="vertical-align: inherit;">http://exemple.com/tillie</font></a><font style="vertical-align: inherit;"> ” id=”link3 "&gt;Tillie&lt;/a&gt;]</font></font><a class="reference external" href="http://example.com/elsie"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a class="reference external" href="http://example.com/lacie"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a class="reference external" href="http://example.com/tillie"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
</div></blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour des correspondances plus complexes, vous pouvez définir une fonction qui prend une valeur d'attribut comme seul argument. La fonction doit retourner </font></font><code class="docutils literal notranslate"><span class="pre">True</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si la valeur correspond, et </font></font><code class="docutils literal notranslate"><span class="pre">False</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sinon.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici une fonction qui recherche toutes </font></font><code class="docutils literal notranslate"><span class="pre">a</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les balises dont </font></font><code class="docutils literal notranslate"><span class="pre">href</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'attribut </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
correspond pas à une expression régulière&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="k">def</span> <span class="nf">not_lacie</span><span class="p">(</span><span class="n">href</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">href</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">"lacie"</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">href</span><span class="p">)</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="n">not_lacie</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous transmettez une liste pour un argument, Beautiful Soup recherchera une correspondance de valeur d'attribut avec </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'importe quelle</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> chaîne, expression régulière ou fonction de cette liste. Ce code trouve le premier et le dernier lien&nbsp;:</font></font></p>
<blockquote>
<div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">soupe.find_all(id=[“link1”, re.compile(“3$”)]) # [ </font></font><a class="reference external" href="http://example.com/elsie"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;a class="sister" href=” http://example.com/elsie ” id=”link1”&gt;</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> </font><font style="vertical-align: inherit;">Elsie&lt;/a&gt;, # </font><font style="vertical-align: inherit;">&lt;a class=”sister” href=” http://example.com/tillie ” id=”link3”&gt;</font></font><a class="reference external" href="http://example.com/tillie"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tillie&lt;/a&gt;]</font></font></a><font style="vertical-align: inherit;"></font></p>
</div></blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez filtrer plusieurs attributs à la fois en transmettant plusieurs arguments de mot-clé&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">"elsie"</span><span class="p">),</span> <span class="nb">id</span><span class="o">=</span><span class="s1">'link1'</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certains attributs, comme les attributs data-* dans HTML 5, ont des noms qui ne peuvent pas être utilisés comme noms d'arguments de mots-clés&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;div data-foo="value"&gt;foo!&lt;/div&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">data_soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">data</span><span class="o">-</span><span class="n">foo</span><span class="o">=</span><span class="s2">"value"</span><span class="p">)</span>
<span class="c1"># SyntaxError: keyword can't be an expression</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez utiliser ces attributs dans les recherches en les plaçant dans un dictionnaire et en passant le dictionnaire </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comme
 </font></font><code class="docutils literal notranslate"><span class="pre">attrs</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">"data-foo"</span><span class="p">:</span> <span class="s2">"value"</span><span class="p">})</span>
<span class="c1"># [&lt;div data-foo="value"&gt;foo!&lt;/div&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De même, vous ne pouvez pas utiliser un argument de mot-clé pour rechercher l'attribut 'name' du HTML, car Beautiful Soup utilise l' </font></font><code class="docutils literal notranslate"><span class="pre">name</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument pour contenir le nom de la balise elle-même. Au lieu de cela, vous pouvez donner une valeur à 'name' dans l'
 </font></font><code class="docutils literal notranslate"><span class="pre">attrs</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;input name="email"/&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">name_soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"email"</span><span class="p">)</span>
<span class="c1"># []</span>
<span class="n">name_soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"email"</span><span class="p">})</span>
<span class="c1"># [&lt;input name="email"/&gt;]</span>
</pre></div>
</div>
</section>
<section id="searching-by-css-class">
<span id="attrs"></span><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche par classe CSS </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-by-css-class" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est très utile de rechercher une balise qui possède une certaine classe CSS, mais le nom de l'attribut CSS, «&nbsp;class&nbsp;», est un mot réservé en Python. L'utiliser </font></font><code class="docutils literal notranslate"><span class="pre">class</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comme argument de mot-clé vous donnera une erreur de syntaxe. Depuis Beautiful Soup 4.1.2, vous pouvez effectuer une recherche par classe CSS en utilisant l'argument mot-clé</font></font><code class="docutils literal notranslate"><span class="pre">class_</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">"sister"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme pour tout argument mot clé, vous pouvez passer </font></font><code class="docutils literal notranslate"><span class="pre">class_</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une chaîne, une expression régulière, une fonction, ou </font></font><code class="docutils literal notranslate"><span class="pre">True</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">"itl"</span><span class="p">))</span>
<span class="c1"># [&lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;]</span>

<span class="k">def</span> <span class="nf">has_six_characters</span><span class="p">(</span><span class="n">css_class</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">css_class</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">css_class</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">has_six_characters</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#multivalue"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N'oubliez pas</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qu'une seule balise peut avoir plusieurs valeurs pour son attribut «&nbsp;class&nbsp;». Lorsque vous recherchez une balise qui correspond à une certaine classe CSS, vous recherchez</font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> l'une</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de ses classes CSS&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">css_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;p class="body strikeout"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">css_soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"p"</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">"strikeout"</span><span class="p">)</span>
<span class="c1"># [&lt;p class="body strikeout"&gt;&lt;/p&gt;]</span>

<span class="n">css_soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"p"</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">"body"</span><span class="p">)</span>
<span class="c1"># [&lt;p class="body strikeout"&gt;&lt;/p&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez également rechercher la valeur de chaîne exacte de l' </font></font><code class="docutils literal notranslate"><span class="pre">class</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attribut&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">css_soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"p"</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">"body strikeout"</span><span class="p">)</span>
<span class="c1"># [&lt;p class="body strikeout"&gt;&lt;/p&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais la recherche de variantes de la valeur de chaîne ne fonctionnera pas&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">css_soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"p"</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">"strikeout body"</span><span class="p">)</span>
<span class="c1"># []</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans les anciennes versions de Beautiful Soup, qui n'ont pas de </font></font><code class="docutils literal notranslate"><span class="pre">class_</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
raccourci, vous pouvez utiliser l' </font></font><code class="docutils literal notranslate"><span class="pre">attrs</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">astuce d'argumentation mentionnée ci-dessus. Créez un dictionnaire dont la valeur pour «&nbsp;class&nbsp;» est la chaîne (ou l'expression régulière, ou autre) que vous souhaitez rechercher&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">"class"</span><span class="p">:</span> <span class="s2">"sister"</span><span class="p">})</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour rechercher des balises correspondant à deux ou plusieurs classes CSS à la fois, utilisez la
 </font><font style="vertical-align: inherit;">méthode de sélection CSS </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">select() </font></font></cite><font style="vertical-align: inherit;"></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#css-selectors"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">décrite ici</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">css_soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"p.strikeout.body"</span><span class="p">)</span>
<span class="c1"># [&lt;p class="body strikeout"&gt;&lt;/p&gt;]</span>
</pre></div>
</div>
</section>
<section id="the-string-argument">
<span id="id11"></span><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code class="docutils literal notranslate"><span class="pre">string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-string-argument" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avec l' </font></font><code class="docutils literal notranslate"><span class="pre">string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument, vous pouvez rechercher des chaînes au lieu de balises. Comme pour </font></font><code class="docutils literal notranslate"><span class="pre">name</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les arguments de mot-clé d'attribut et , vous pouvez transmettre </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-string"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une chaîne</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-regular-expression"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une expression régulière</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-function"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une fonction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-list"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une liste</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-value-true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la valeur True</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Voici quelques exemples:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Elsie"</span><span class="p">)</span>
<span class="c1"># ['Elsie']</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="p">[</span><span class="s2">"Tillie"</span><span class="p">,</span> <span class="s2">"Elsie"</span><span class="p">,</span> <span class="s2">"Lacie"</span><span class="p">])</span>
<span class="c1"># ['Elsie', 'Lacie', 'Tillie']</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">"Dormouse"</span><span class="p">))</span>
<span class="c1"># ["The Dormouse's story", "The Dormouse's story"]</span>

<span class="k">def</span> <span class="nf">is_the_only_string_within_a_tag</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Return True if this string is the only child of its parent tag."""</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">s</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">is_the_only_string_within_a_tag</span><span class="p">)</span>
<span class="c1"># ["The Dormouse's story", "The Dormouse's story", 'Elsie', 'Lacie', 'Tillie', '...']</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous utilisez l' </font></font><code class="docutils literal notranslate"><span class="pre">string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument dans une recherche de balises, Beautiful Soup trouvera toutes les balises dont </font></font><code class="docutils literal notranslate"><span class="pre">.string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la valeur correspond à votre valeur </font></font><code class="docutils literal notranslate"><span class="pre">string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ce code trouve les balises &lt;a&gt; dont </font></font><code class="docutils literal notranslate"><span class="pre">.string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est « Elsie »&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Elsie"</span><span class="p">)</span>
<span class="c1"># [&lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;Elsie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code class="docutils literal notranslate"><span class="pre">string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument est nouveau dans Beautiful Soup 4.4.0. Dans les versions précédentes, cela s'appelait </font></font><code class="docutils literal notranslate"><span class="pre">text</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">"Elsie"</span><span class="p">)</span>
<span class="c1"># [&lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;Elsie&lt;/a&gt;]</span>
</pre></div>
</div>
</section>
<section id="the-limit-argument">
<span id="limit"></span><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code class="docutils literal notranslate"><span class="pre">limit</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-limit-argument" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">renvoie toutes les balises et chaînes qui correspondent à vos filtres. Cela peut prendre un certain temps si le document est volumineux. Si vous n'avez pas besoin </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de tous</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les résultats, vous pouvez transmettre un nombre pour </font></font><code class="docutils literal notranslate"><span class="pre">limit</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cela fonctionne exactement comme le mot-clé LIMIT dans SQL. Il indique à Beautiful Soup d'arrêter de collecter des résultats après avoir trouvé un certain nombre.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a trois liens dans le document « trois sœurs », mais ce code ne trouve que les deux premiers :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;]</span>
</pre></div>
</div>
</section>
<section id="the-recursive-argument">
<span id="recursive"></span><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code class="docutils literal notranslate"><span class="pre">recursive</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-recursive-argument" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par défaut, </font></font><code class="docutils literal notranslate"><span class="pre">mytag.find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">examinera tous les descendants de </font></font><code class="docutils literal notranslate"><span class="pre">mytag</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: ses enfants, les enfants de ses enfants, etc. Pour ne considérer que les enfants directs, vous pouvez passer </font></font><code class="docutils literal notranslate"><span class="pre">recursive=False</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Voyez la différence ici :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"title"</span><span class="p">)</span>
<span class="c1"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"title"</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># []</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici cette partie du document&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
 <span class="o">&lt;</span><span class="n">head</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">title</span><span class="o">&gt;</span>
   <span class="n">The</span> <span class="n">Dormouse</span><span class="s1">'s story</span>
  <span class="o">&lt;/</span><span class="n">title</span><span class="o">&gt;</span>
 <span class="o">&lt;/</span><span class="n">head</span><span class="o">&gt;</span>
<span class="o">...</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La balise &lt;title&gt; se trouve sous la balise &lt;html&gt;, mais elle n'est pas </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">directement</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
sous la balise &lt;html&gt; : la balise &lt;head&gt; gêne. Beautiful Soup trouve la balise &lt;title&gt; lorsqu'il est autorisé à consulter tous les descendants de la balise &lt;html&gt;, mais lorsqu'il </font></font><code class="docutils literal notranslate"><span class="pre">recursive=False</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la restreint aux enfants immédiats de la balise &lt;html&gt;, il ne trouve rien.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beautiful Soup propose de nombreuses méthodes de recherche arborescente (décrites ci-dessous), et elles utilisent pour la plupart les mêmes arguments que</font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;: </font></font><code class="docutils literal notranslate"><span class="pre">name</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,
 </font></font><code class="docutils literal notranslate"><span class="pre">attrs</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code class="docutils literal notranslate"><span class="pre">string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code class="docutils literal notranslate"><span class="pre">limit</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et les arguments de mots-clés d'attribut. Mais l’
 </font></font><code class="docutils literal notranslate"><span class="pre">recursive</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument est spécifique aux méthodes </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">find()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Passer </font></font><code class="docutils literal notranslate"><span class="pre">recursive=False</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">à une méthode comme celle-ci </font></font><code class="docutils literal notranslate"><span class="pre">find_parents()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne serait pas très utile.</font></font></p>
</section>
</section>
<section id="calling-a-tag-is-like-calling-find-all">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Appeler une balise, c'est comme appeler </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#calling-a-tag-is-like-calling-find-all" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour plus de commodité, appeler un </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet ou
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un objet en tant que fonction équivaut à appeler
 </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(si aucune méthode intégrée n'a le nom de la balise que vous recherchez). Ces deux lignes de code sont équivalentes&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)</span>
<span class="n">soup</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ces deux lignes sont également équivalentes :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="find">
<h2><code class="docutils literal notranslate"><span class="pre">find()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signature de méthode&nbsp;: find( </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attrs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attrs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#recursive"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recursive</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">**kwargs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode analyse l'intégralité du document à la recherche de résultats, mais parfois vous ne souhaitez trouver qu'un seul résultat. Si vous savez qu'un document n'a qu'une seule balise &lt;body&gt;, c'est une perte de temps de numériser l'intégralité du document à la recherche d'en savoir plus. Plutôt que de transmettre </font></font><code class="docutils literal notranslate"><span class="pre">limit=1</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
chaque fois que vous appelez </font></font><code class="docutils literal notranslate"><span class="pre">find_all</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, vous pouvez utiliser la </font></font><code class="docutils literal notranslate"><span class="pre">find()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
méthode. Ces deux lignes de code sont </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">presque</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> équivalentes&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">'title'</span><span class="p">)</span>
<span class="c1"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La seule différence est que </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">renvoie une liste contenant le résultat unique et </font></font><code class="docutils literal notranslate"><span class="pre">find()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">renvoie simplement le résultat.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vous ne trouvez rien, il renvoie une liste vide. Si
 </font></font><code class="docutils literal notranslate"><span class="pre">find()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">je ne trouve rien, ça renvoie </font></font><code class="docutils literal notranslate"><span class="pre">None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"nosuchtag"</span><span class="p">))</span>
<span class="c1"># None</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous vous souvenez de l' </font></font><code class="docutils literal notranslate"><span class="pre">soup.head.title</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">astuce de </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#navigating-using-tag-names"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Naviguer à l'aide de noms de balises</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;? Cette astuce fonctionne en appelant à plusieurs reprises</font></font><code class="docutils literal notranslate"><span class="pre">find()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">title</span>
<span class="c1"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>

<span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"head"</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"title"</span><span class="p">)</span>
<span class="c1"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>
</pre></div>
</div>
</section>
<section id="find-parents-and-find-parent">
<h2><code class="docutils literal notranslate"><span class="pre">find_parents()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">find_parent()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-parents-and-find-parent" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signature de méthode&nbsp;: find_parents( </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attrs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attrs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#limit"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">limit</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">**kwargs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signature de la méthode&nbsp;: find_parent( </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attrs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attrs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">**kwargs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai passé beaucoup de temps dessus à couvrir </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et
 </font></font><code class="docutils literal notranslate"><span class="pre">find()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. L'API Beautiful Soup définit dix autres méthodes pour rechercher l'arbre, mais n'ayez pas peur. Cinq de ces méthodes sont fondamentalement les mêmes que </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, et les cinq autres sont fondamentalement les mêmes que </font></font><code class="docutils literal notranslate"><span class="pre">find()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Les seules différences résident dans la façon dont ils se déplacent d’une partie de l’arbre à une autre.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Considérons d'abord </font></font><code class="docutils literal notranslate"><span class="pre">find_parents()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et
 </font></font><code class="docutils literal notranslate"><span class="pre">find_parent()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. N'oubliez pas cela </font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">find()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">descendez l'arbre en regardant les descendants de Tag. Ces méthodes font le contraire : elles progressent </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> l'arborescence, en regardant les parents d'une balise (ou d'une chaîne). Essayons-les, à partir d'une chaîne enfouie profondément dans le document des « trois filles » :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a_string</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Lacie"</span><span class="p">)</span>
<span class="n">a_string</span>
<span class="c1"># 'Lacie'</span>

<span class="n">a_string</span><span class="o">.</span><span class="n">find_parents</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;]</span>

<span class="n">a_string</span><span class="o">.</span><span class="n">find_parent</span><span class="p">(</span><span class="s2">"p"</span><span class="p">)</span>
<span class="c1"># &lt;p class="story"&gt;Once upon a time there were three little sisters; and their names were</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt; and</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;;</span>
<span class="c1">#  and they lived at the bottom of a well.&lt;/p&gt;</span>

<span class="n">a_string</span><span class="o">.</span><span class="n">find_parents</span><span class="p">(</span><span class="s2">"p"</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">"title"</span><span class="p">)</span>
<span class="c1"># []</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'une des trois balises &lt;a&gt; est le parent direct de la chaîne en question, notre recherche la trouve donc. L'une des trois balises &lt;p&gt; est un parent indirect ( </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ancêtre</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) de la chaîne, et notre recherche le trouve également. Il y a une balise &lt;p&gt; avec la classe CSS « ​​title » </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quelque part</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans le document, mais ce n'est pas l'un des parents de cette chaîne, nous ne pouvons donc pas la trouver avec </font></font><code class="docutils literal notranslate"><span class="pre">find_parents()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous avez peut-être remarqué une similitude entre </font></font><code class="docutils literal notranslate"><span class="pre">find_parent()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and
 </font></font><code class="docutils literal notranslate"><span class="pre">find_parents()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et les attributs </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parent"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.parent</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parents"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.parents</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mentionnés précédemment. Ces méthodes de recherche utilisent en fait l' </font></font><code class="docutils literal notranslate"><span class="pre">.parents</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
attribut pour parcourir tous les parents (non filtrés), en vérifiant chacun d'eux par rapport au filtre fourni pour voir s'il correspond.</font></font></p>
</section>
<section id="find-next-siblings-and-find-next-sibling">
<h2><code class="docutils literal notranslate"><span class="pre">find_next_siblings()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">find_next_sibling()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-next-siblings-and-find-next-sibling" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signature de méthode&nbsp;: find_next_siblings( </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attrs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attrs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#limit"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">limit</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">**kwargs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signature de méthode&nbsp;: find_next_sibling( </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attrs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attrs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">**kwargs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ces méthodes utilisent </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#sibling-generators"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.next_siblings</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour parcourir le reste des frères et sœurs d'un élément dans l'arborescence. La
 </font></font><code class="docutils literal notranslate"><span class="pre">find_next_siblings()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode renvoie tous les frères et sœurs qui correspondent et </font></font><code class="docutils literal notranslate"><span class="pre">find_next_sibling()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">renvoie uniquement le premier&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">first_link</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">a</span>
<span class="n">first_link</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;</span>

<span class="n">first_link</span><span class="o">.</span><span class="n">find_next_siblings</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

<span class="n">first_story_paragraph</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"p"</span><span class="p">,</span> <span class="s2">"story"</span><span class="p">)</span>
<span class="n">first_story_paragraph</span><span class="o">.</span><span class="n">find_next_sibling</span><span class="p">(</span><span class="s2">"p"</span><span class="p">)</span>
<span class="c1"># &lt;p class="story"&gt;...&lt;/p&gt;</span>
</pre></div>
</div>
</section>
<section id="find-previous-siblings-and-find-previous-sibling">
<h2><code class="docutils literal notranslate"><span class="pre">find_previous_siblings()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">find_previous_sibling()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-previous-siblings-and-find-previous-sibling" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signature de méthode&nbsp;: find_previous_siblings( </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attrs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attrs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#limit"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">limit</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">**kwargs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signature de méthode&nbsp;: find_previous_sibling( </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attrs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attrs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">**kwargs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ces méthodes utilisent </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#sibling-generators"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.previous_siblings</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour parcourir les frères et sœurs d'un élément qui le précèdent dans l'arborescence. La </font></font><code class="docutils literal notranslate"><span class="pre">find_previous_siblings()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
méthode renvoie tous les frères et sœurs qui correspondent et
 </font></font><code class="docutils literal notranslate"><span class="pre">find_previous_sibling()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">renvoie uniquement le premier&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">last_link</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">"link3"</span><span class="p">)</span>
<span class="n">last_link</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;</span>

<span class="n">last_link</span><span class="o">.</span><span class="n">find_previous_siblings</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;]</span>

<span class="n">first_story_paragraph</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"p"</span><span class="p">,</span> <span class="s2">"story"</span><span class="p">)</span>
<span class="n">first_story_paragraph</span><span class="o">.</span><span class="n">find_previous_sibling</span><span class="p">(</span><span class="s2">"p"</span><span class="p">)</span>
<span class="c1"># &lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span>
</pre></div>
</div>
</section>
<section id="find-all-next-and-find-next">
<h2><code class="docutils literal notranslate"><span class="pre">find_all_next()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">find_next()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-all-next-and-find-next" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signature de méthode&nbsp;: find_all_next( </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attrs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attrs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#limit"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">limit</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">**kwargs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signature de méthode&nbsp;: find_next( </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attrs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attrs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">**kwargs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ces méthodes utilisent </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#element-generators"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.next_elements</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour parcourir les balises et les chaînes qui viennent après dans le document. La </font></font><code class="docutils literal notranslate"><span class="pre">find_all_next()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode renvoie toutes les correspondances et
 </font></font><code class="docutils literal notranslate"><span class="pre">find_next()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">renvoie uniquement la première correspondance&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">first_link</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">a</span>
<span class="n">first_link</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;</span>

<span class="n">first_link</span><span class="o">.</span><span class="n">find_all_next</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># ['Elsie', ',\n', 'Lacie', ' and\n', 'Tillie',</span>
<span class="c1">#  ';\nand they lived at the bottom of a well.', '\n', '...', '\n']</span>

<span class="n">first_link</span><span class="o">.</span><span class="n">find_next</span><span class="p">(</span><span class="s2">"p"</span><span class="p">)</span>
<span class="c1"># &lt;p class="story"&gt;...&lt;/p&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le premier exemple, la chaîne « Elsie » est apparue, même si elle était contenue dans la balise &lt;a&gt; à partir de laquelle nous sommes partis. Dans le deuxième exemple, la dernière balise &lt;p&gt; du document est apparue, même si elle ne se trouve pas dans la même partie de l'arborescence que la balise &lt;a&gt; à partir de laquelle nous sommes partis. Pour ces méthodes, tout ce qui compte est qu'un élément corresponde au filtre et qu'il apparaisse plus tard dans le document dans l' </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#document-order"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ordre des documents</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>
</section>
<section id="find-all-previous-and-find-previous">
<h2><code class="docutils literal notranslate"><span class="pre">find_all_previous()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">find_previous()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-all-previous-and-find-previous" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signature de méthode&nbsp;: find_all_previous( </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attrs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attrs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#limit"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">limit</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">**kwargs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signature de méthode&nbsp;: find_previous( </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attrs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attrs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">**kwargs</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ces méthodes utilisent </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#element-generators"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.previous_elements</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour parcourir les balises et les chaînes qui les précèdent dans le document. La </font></font><code class="docutils literal notranslate"><span class="pre">find_all_previous()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode renvoie toutes les correspondances et
 </font></font><code class="docutils literal notranslate"><span class="pre">find_previous()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">renvoie uniquement la première correspondance&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">first_link</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">a</span>
<span class="n">first_link</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;</span>

<span class="n">first_link</span><span class="o">.</span><span class="n">find_all_previous</span><span class="p">(</span><span class="s2">"p"</span><span class="p">)</span>
<span class="c1"># [&lt;p class="story"&gt;Once upon a time there were three little sisters; ...&lt;/p&gt;,</span>
<span class="c1">#  &lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;]</span>

<span class="n">first_link</span><span class="o">.</span><span class="n">find_previous</span><span class="p">(</span><span class="s2">"title"</span><span class="p">)</span>
<span class="c1"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'appel pour </font></font><code class="docutils literal notranslate"><span class="pre">find_all_previous("p")</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonder le premier paragraphe du document (celui avec class=”title”), mais il trouve également le deuxième paragraphe, la balise &lt;p&gt; qui contient la balise &lt;a&gt; avec laquelle nous avons commencé. Cela ne devrait pas être trop surprenant&nbsp;: nous examinons toutes les balises qui apparaissent plus tôt dans le document dans </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#document-order"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'ordre du document</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que celui avec lequel nous avons commencé. Une balise &lt;p&gt; qui contient une balise &lt;a&gt; doit être apparue avant la balise &lt;a&gt; qu'elle contient.</font></font></p>
</section>
<section id="css-selectors-through-the-css-property">
<span id="css-selectors"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sélecteurs CSS via la </font></font><code class="docutils literal notranslate"><span class="pre">.css</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propriété </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#css-selectors-through-the-css-property" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p id="select"><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les objets prennent en charge les sélecteurs CSS via leur </font></font><code class="docutils literal notranslate"><span class="pre">.css</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propriété. L'implémentation réelle du sélecteur est gérée par le package </font></font><a class="reference external" href="https://facelessuser.github.io/soupsieve/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soup Sieve</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
, disponible sur PyPI sous le nom </font></font><code class="docutils literal notranslate"><span class="pre">soupsieve</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Si vous avez installé Beautiful Soup via </font></font><code class="docutils literal notranslate"><span class="pre">pip</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Soup Sieve a été installé en même temps, vous n'avez donc rien à faire de plus.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La documentation Soup Sieve répertorie </font></font><a class="reference external" href="https://facelessuser.github.io/soupsieve/selectors/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tous les sélecteurs CSS actuellement pris en charge</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais voici quelques bases. Vous pouvez trouver des balises par nom&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"title"</span><span class="p">)</span>
<span class="c1"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"p:nth-of-type(3)"</span><span class="p">)</span>
<span class="c1"># [&lt;p class="story"&gt;...&lt;/p&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rechercher des balises par ID&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"#link1"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"a#link2"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez des balises contenues n’importe où dans d’autres balises&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"body a"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie"  id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"html head title"</span><span class="p">)</span>
<span class="c1"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez des balises </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">directement</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans d’autres balises&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"head &gt; title"</span><span class="p">)</span>
<span class="c1"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"p &gt; a"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie"  id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"p &gt; a:nth-of-type(2)"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"body &gt; a"</span><span class="p">)</span>
<span class="c1"># []</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trouvez tous les prochains frères et sœurs correspondants des balises&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"#link1 ~ .sister"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie"  id="link3"&gt;Tillie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez la balise frère suivante (mais seulement si elle correspond)&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"#link1 + .sister"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rechercher des balises par classe CSS&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">".sister"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"[class~=sister]"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez les balises qui correspondent à n’importe quel sélecteur dans une liste de sélecteurs&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"#link1,#link2"</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testez l'existence d'un attribut&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">'a[href]'</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rechercher des balises par valeur d'attribut&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">'a[href="http://example.com/elsie"]'</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">'a[href^="http://example.com/"]'</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">'a[href$="tillie"]'</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">'a[href*=".com/el"]'</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe également une méthode appelée </font></font><code class="docutils literal notranslate"><span class="pre">select_one()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui recherche uniquement la première balise correspondant à un sélecteur&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s2">".sister"</span><span class="p">)</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour plus de commodité, vous pouvez appeler </font></font><code class="docutils literal notranslate"><span class="pre">select()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">select_one()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">directement sur l' objet </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, en omettant la
 </font></font><code class="docutils literal notranslate"><span class="pre">.css</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propriété&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">'a[href$="tillie"]'</span><span class="p">)</span>
<span class="c1"># [&lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

<span class="n">soup</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s2">".sister"</span><span class="p">)</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La prise en charge du sélecteur CSS est pratique pour les personnes qui connaissent déjà la syntaxe du sélecteur CSS. Vous pouvez faire tout cela avec l’API Beautiful Soup. Si les sélecteurs CSS suffisent, vous devez ignorer complètement Beautiful Soup et analyser le document avec </font></font><code class="docutils literal notranslate"><span class="pre">lxml</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: c'est beaucoup plus rapide. Mais Soup Sieve vous permet </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de combiner</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> des sélecteurs CSS avec l'API Beautiful Soup.</font></font></p>
<section id="advanced-soup-sieve-features">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonctionnalités avancées du tamis à soupe </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#advanced-soup-sieve-features" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soup Sieve offre une API substantielle au-delà des méthodes </font></font><code class="docutils literal notranslate"><span class="pre">select()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et
 </font></font><code class="docutils literal notranslate"><span class="pre">select_one()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, et vous pouvez accéder à la plupart de cette API via l' </font></font><code class="docutils literal notranslate"><span class="pre">.css</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attribut </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ce qui suit n'est qu'une liste des méthodes prises en charge&nbsp;; voir </font></font><a class="reference external" href="https://facelessuser.github.io/soupsieve/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la documentation Soup Sieve</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour une documentation complète.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La </font></font><code class="docutils literal notranslate"><span class="pre">iselect()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode fonctionne de la même manière que </font></font><code class="docutils literal notranslate"><span class="pre">select()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais elle renvoie un générateur au lieu d'une liste&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">tag</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">iselect</span><span class="p">(</span><span class="s2">".sister"</span><span class="p">)]</span>
<span class="c1"># ['link1', 'link2', 'link3']</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La </font></font><code class="docutils literal notranslate"><span class="pre">closest()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode renvoie le parent le plus proche d'une donnée </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
qui correspond à un sélecteur CSS, similaire à la méthode de Beautiful Soup
</font></font><code class="docutils literal notranslate"><span class="pre">find_parent()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">elsie</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s2">".sister"</span><span class="p">)</span>
<span class="n">elsie</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">closest</span><span class="p">(</span><span class="s2">"p.story"</span><span class="p">)</span>
<span class="c1"># &lt;p class="story"&gt;Once upon a time there were three little sisters; and their names were</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt; and</span>
<span class="c1">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;;</span>
<span class="c1">#  and they lived at the bottom of a well.&lt;/p&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La </font></font><code class="docutils literal notranslate"><span class="pre">match()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode renvoie un booléen selon qu'un élément spécifique </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">correspond ou non à un sélecteur&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># elsie.css.match("#link1")</span>
<span class="kc">True</span>

<span class="c1"># elsie.css.match("#link2")</span>
<span class="kc">False</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La </font></font><code class="docutils literal notranslate"><span class="pre">filter()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode renvoie le sous-ensemble des enfants directs d'une balise qui correspondent à un sélecteur&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">string</span> <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">'p'</span><span class="p">,</span> <span class="s1">'story'</span><span class="p">)</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s1">'a'</span><span class="p">)]</span>
<span class="c1"># ['Elsie', 'Lacie', 'Tillie']</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La </font></font><code class="docutils literal notranslate"><span class="pre">escape()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode échappe aux identifiants CSS qui autrement seraient invalides&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s2">"1-strange-identifier"</span><span class="p">)</span>
<span class="c1"># '\\31 -strange-identifier'</span>
</pre></div>
</div>
</section>
<section id="namespaces-in-css-selectors">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espaces de noms dans les sélecteurs CSS </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#namespaces-in-css-selectors" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous avez analysé du XML qui définit des espaces de noms, vous pouvez les utiliser dans les sélecteurs CSS&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="n">xml</span> <span class="o">=</span> <span class="s2">"""&lt;tag xmlns:ns1="http://namespace1/" xmlns:ns2="http://namespace2/"&gt;</span>
<span class="s2"> &lt;ns1:child&gt;I'm in namespace 1&lt;/ns1:child&gt;</span>
<span class="s2"> &lt;ns2:child&gt;I'm in namespace 2&lt;/ns2:child&gt;</span>
<span class="s2">&lt;/tag&gt; """</span>
<span class="n">namespace_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">xml</span><span class="p">,</span> <span class="s2">"xml"</span><span class="p">)</span>

<span class="n">namespace_soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"child"</span><span class="p">)</span>
<span class="c1"># [&lt;ns1:child&gt;I'm in namespace 1&lt;/ns1:child&gt;, &lt;ns2:child&gt;I'm in namespace 2&lt;/ns2:child&gt;]</span>

<span class="n">namespace_soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"ns1|child"</span><span class="p">)</span>
<span class="c1"># [&lt;ns1:child&gt;I'm in namespace 1&lt;/ns1:child&gt;]</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beautiful Soup essaie d'utiliser des préfixes d'espace de noms qui ont du sens en fonction de ce qu'il a vu lors de l'analyse du document, mais vous pouvez toujours fournir votre propre dictionnaire d'abréviations&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">namespaces</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">first</span><span class="o">=</span><span class="s2">"http://namespace1/"</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="s2">"http://namespace2/"</span><span class="p">)</span>
<span class="n">namespace_soup</span><span class="o">.</span><span class="n">css</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"second|child"</span><span class="p">,</span> <span class="n">namespaces</span><span class="o">=</span><span class="n">namespaces</span><span class="p">)</span>
<span class="c1"># [&lt;ns1:child&gt;I'm in namespace 2&lt;/ns1:child&gt;]</span>
</pre></div>
</div>
</section>
<section id="history-of-css-selector-support">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Historique du support du sélecteur CSS </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#history-of-css-selector-support" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La </font></font><code class="docutils literal notranslate"><span class="pre">.css</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propriété a été ajoutée dans Beautiful Soup 4.12.0. Avant cela, seules les méthodes </font></font><code class="docutils literal notranslate"><span class="pre">.select()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">.select_one()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">commodité étaient prises en charge.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'intégration de Soup Sieve a été ajoutée dans Beautiful Soup 4.7.0. Les versions antérieures disposaient de cette </font></font><code class="docutils literal notranslate"><span class="pre">.select()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode, mais seuls les sélecteurs CSS les plus couramment utilisés étaient pris en charge.</font></font></p>
</section>
</section>
</section>
<section id="modifying-the-tree">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modifier l'arborescence </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#modifying-the-tree" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La principale force de Beautiful Soup réside dans la recherche dans l'arborescence d'analyse, mais vous pouvez également modifier l'arborescence et écrire vos modifications sous la forme d'un nouveau document HTML ou XML.</font></font></p>
<section id="changing-tag-names-and-attributes">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Changer les noms et les attributs des balises </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#changing-tag-names-and-attributes" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'en ai parlé plus tôt, dans </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag.attrs" title="bs4.Tag.attrs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Tag.attrs</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais cela mérite d'être répété. Vous pouvez renommer une balise, modifier les valeurs de ses attributs, ajouter de nouveaux attributs et supprimer des attributs&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;b class="boldest"&gt;Extremely bold&lt;/b&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">b</span>

<span class="n">tag</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">"blockquote"</span>
<span class="n">tag</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'verybold'</span>
<span class="n">tag</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">tag</span>
<span class="c1"># &lt;blockquote class="verybold" id="1"&gt;Extremely bold&lt;/blockquote&gt;</span>

<span class="k">del</span> <span class="n">tag</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="k">del</span> <span class="n">tag</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<span class="n">tag</span>
<span class="c1"># &lt;blockquote&gt;Extremely bold&lt;/blockquote&gt;</span>
</pre></div>
</div>
</section>
<section id="modifying-string">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modification </font></font><code class="docutils literal notranslate"><span class="pre">.string</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#modifying-string" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous définissez l'attribut d'une balise </font></font><code class="docutils literal notranslate"><span class="pre">.string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur une nouvelle chaîne, le contenu de la balise est remplacé par cette chaîne&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s1">'&lt;a href="http://example.com/"&gt;I linked to &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;'</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>

<span class="n">tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">a</span>
<span class="n">tag</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="s2">"New link text."</span>
<span class="n">tag</span>
<span class="c1"># &lt;a href="http://example.com/"&gt;New link text.&lt;/a&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attention : si la balise contenait d'autres balises, celles-ci ainsi que tout leur contenu seront détruits.</font></font></p>
</section>
<section id="append">
<h2><code class="docutils literal notranslate"><span class="pre">append()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#append" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez ajouter du contenu à une balise avec </font></font><code class="docutils literal notranslate"><span class="pre">Tag.append()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cela fonctionne comme si vous appeliez </font></font><code class="docutils literal notranslate"><span class="pre">.append()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une liste Python&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;a&gt;Foo&lt;/a&gt;"</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"Bar"</span><span class="p">)</span>

<span class="n">soup</span>
<span class="c1"># &lt;a&gt;FooBar&lt;/a&gt;</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">contents</span>
<span class="c1"># ['Foo', 'Bar']</span>
</pre></div>
</div>
</section>
<section id="extend">
<h2><code class="docutils literal notranslate"><span class="pre">extend()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#extend" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">À partir de Beautiful Soup 4.7.0, </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prend également en charge une méthode appelée </font></font><code class="docutils literal notranslate"><span class="pre">.extend()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui ajoute chaque élément d'une liste à un </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dans l'ordre&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;a&gt;Soup&lt;/a&gt;"</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">"'s"</span><span class="p">,</span> <span class="s2">" "</span><span class="p">,</span> <span class="s2">"on"</span><span class="p">])</span>

<span class="n">soup</span>
<span class="c1"># &lt;a&gt;Soup's on&lt;/a&gt;</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">contents</span>
<span class="c1"># ['Soup', ''s', ' ', 'on']</span>
</pre></div>
</div>
</section>
<section id="navigablestring-and-new-tag">
<h2><code class="docutils literal notranslate"><span class="pre">NavigableString()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">.new_tag()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#navigablestring-and-new-tag" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous devez ajouter une chaîne à un document, pas de problème&nbsp;: vous pouvez transmettre une chaîne Python à </font></font><code class="docutils literal notranslate"><span class="pre">append()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou vous pouvez appeler le </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
constructeur&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">NavigableString</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;b&gt;&lt;/b&gt;"</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">b</span>
<span class="n">tag</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"Hello"</span><span class="p">)</span>
<span class="n">new_string</span> <span class="o">=</span> <span class="n">NavigableString</span><span class="p">(</span><span class="s2">" there"</span><span class="p">)</span>
<span class="n">tag</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_string</span><span class="p">)</span>
<span class="n">tag</span>
<span class="c1"># &lt;b&gt;Hello there.&lt;/b&gt;</span>
<span class="n">tag</span><span class="o">.</span><span class="n">contents</span>
<span class="c1"># ['Hello', ' there']</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous souhaitez créer un commentaire ou une autre sous-classe de
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, appelez simplement le constructeur&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">Comment</span>
<span class="n">new_comment</span> <span class="o">=</span> <span class="n">Comment</span><span class="p">(</span><span class="s2">"Nice to see you."</span><span class="p">)</span>
<span class="n">tag</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_comment</span><span class="p">)</span>
<span class="n">tag</span>
<span class="c1"># &lt;b&gt;Hello there&lt;!--Nice to see you.--&gt;&lt;/b&gt;</span>
<span class="n">tag</span><span class="o">.</span><span class="n">contents</span>
<span class="c1"># ['Hello', ' there', 'Nice to see you.']</span>
</pre></div>
</div>
<p><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Il s'agit d'une nouvelle fonctionnalité de Beautiful Soup 4.4.0.)</font></font></cite></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et si vous deviez créer une toute nouvelle balise&nbsp;? La meilleure solution est d'appeler la méthode factory </font></font><code class="docutils literal notranslate"><span class="pre">BeautifulSoup.new_tag()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;b&gt;&lt;/b&gt;"</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">original_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">b</span>

<span class="n">new_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="s2">"http://www.example.com"</span><span class="p">)</span>
<span class="n">original_tag</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_tag</span><span class="p">)</span>
<span class="n">original_tag</span>
<span class="c1"># &lt;b&gt;&lt;a href="http://www.example.com"&gt;&lt;/a&gt;&lt;/b&gt;</span>

<span class="n">new_tag</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="s2">"Link text."</span>
<span class="n">original_tag</span>
<span class="c1"># &lt;b&gt;&lt;a href="http://www.example.com"&gt;Link text.&lt;/a&gt;&lt;/b&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seul le premier argument, le nom de la balise, est requis.</font></font></p>
</section>
<section id="insert">
<h2><code class="docutils literal notranslate"><span class="pre">insert()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#insert" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Tag.insert()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c'est comme </font></font><code class="docutils literal notranslate"><span class="pre">Tag.append()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sauf que le nouvel élément ne va pas nécessairement à la fin de celui de son parent
 </font></font><code class="docutils literal notranslate"><span class="pre">.contents</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Il sera inséré à la position numérique que vous dites. Cela fonctionne comme </font></font><code class="docutils literal notranslate"><span class="pre">.insert()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur une liste Python&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s1">'&lt;a href="http://example.com/"&gt;I linked to &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;'</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">a</span>

<span class="n">tag</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">"but did not endorse "</span><span class="p">)</span>
<span class="n">tag</span>
<span class="c1"># &lt;a href="http://example.com/"&gt;I linked to but did not endorse &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;</span>
<span class="n">tag</span><span class="o">.</span><span class="n">contents</span>
<span class="c1"># ['I linked to ', 'but did not endorse ', &lt;i&gt;example.com&lt;/i&gt;]</span>
</pre></div>
</div>
</section>
<section id="insert-before-and-insert-after">
<h2><code class="docutils literal notranslate"><span class="pre">insert_before()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">insert_after()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#insert-before-and-insert-after" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La </font></font><code class="docutils literal notranslate"><span class="pre">insert_before()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode insère des balises ou des chaînes immédiatement avant autre chose dans l'arborescence d'analyse&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;b&gt;leave&lt;/b&gt;"</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="s2">"i"</span><span class="p">)</span>
<span class="n">tag</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="s2">"Don't"</span>
<span class="n">soup</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">string</span><span class="o">.</span><span class="n">insert_before</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">b</span>
<span class="c1"># &lt;b&gt;&lt;i&gt;Don't&lt;/i&gt;leave&lt;/b&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La </font></font><code class="docutils literal notranslate"><span class="pre">insert_after()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode insère des balises ou des chaînes immédiatement après autre chose dans l'arborescence d'analyse&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">div</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="s1">'div'</span><span class="p">)</span>
<span class="n">div</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="s1">'ever'</span>
<span class="n">soup</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">i</span><span class="o">.</span><span class="n">insert_after</span><span class="p">(</span><span class="s2">" you "</span><span class="p">,</span> <span class="n">div</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">b</span>
<span class="c1"># &lt;b&gt;&lt;i&gt;Don't&lt;/i&gt; you &lt;div&gt;ever&lt;/div&gt; leave&lt;/b&gt;</span>
<span class="n">soup</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">contents</span>
<span class="c1"># [&lt;i&gt;Don't&lt;/i&gt;, ' you', &lt;div&gt;ever&lt;/div&gt;, 'leave']</span>
</pre></div>
</div>
</section>
<section id="clear">
<h2><code class="docutils literal notranslate"><span class="pre">clear()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#clear" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Tag.clear()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">supprime le contenu d'une balise&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s1">'&lt;a href="http://example.com/"&gt;I linked to &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;'</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">a</span>

<span class="n">tag</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">tag</span>
<span class="c1"># &lt;a href="http://example.com/"&gt;&lt;/a&gt;</span>
</pre></div>
</div>
</section>
<section id="extract">
<h2><code class="docutils literal notranslate"><span class="pre">extract()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#extract" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">PageElement.extract()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">supprime une balise ou une chaîne de l'arborescence. Il renvoie la balise ou la chaîne qui a été extraite&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s1">'&lt;a href="http://example.com/"&gt;I linked to &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;'</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">a_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">a</span>

<span class="n">i_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">i</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>

<span class="n">a_tag</span>
<span class="c1"># &lt;a href="http://example.com/"&gt;I linked to&lt;/a&gt;</span>

<span class="n">i_tag</span>
<span class="c1"># &lt;i&gt;example.com&lt;/i&gt;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">i_tag</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
<span class="c1"># None</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">À ce stade, vous disposez effectivement de deux arbres d'analyse&nbsp;: l'un enraciné au niveau de l'
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet que vous avez utilisé pour analyser le document et l'autre enraciné au niveau de la balise qui a été extraite. Vous pouvez continuer en faisant appel </font></font><code class="docutils literal notranslate"><span class="pre">extract()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">à un enfant de l'élément que vous avez extrait&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_string</span> <span class="o">=</span> <span class="n">i_tag</span><span class="o">.</span><span class="n">string</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
<span class="n">my_string</span>
<span class="c1"># 'example.com'</span>

<span class="nb">print</span><span class="p">(</span><span class="n">my_string</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
<span class="c1"># None</span>
<span class="n">i_tag</span>
<span class="c1"># &lt;i&gt;&lt;/i&gt;</span>
</pre></div>
</div>
</section>
<section id="decompose">
<h2><code class="docutils literal notranslate"><span class="pre">decompose()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#decompose" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Tag.decompose()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">supprime une balise de l'arborescence, puis </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la détruit complètement ainsi que son contenu</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s1">'&lt;a href="http://example.com/"&gt;I linked to &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;'</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">a_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">a</span>
<span class="n">i_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">i</span>

<span class="n">i_tag</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>
<span class="n">a_tag</span>
<span class="c1"># &lt;a href="http://example.com/"&gt;I linked to&lt;/a&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le comportement d'un </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou décomposé </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'est pas défini et vous ne devez l'utiliser pour rien. Si vous n'êtes pas sûr que quelque chose ait été décomposé, vous pouvez vérifier sa
 </font></font><code class="docutils literal notranslate"><span class="pre">.decomposed</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propriété </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(nouveau dans Beautiful Soup 4.9.0)</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i_tag</span><span class="o">.</span><span class="n">decomposed</span>
<span class="c1"># True</span>

<span class="n">a_tag</span><span class="o">.</span><span class="n">decomposed</span>
<span class="c1"># False</span>
</pre></div>
</div>
</section>
<section id="replace-with">
<span id="id12"></span><h2><code class="docutils literal notranslate"><span class="pre">replace_with()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#replace-with" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">PageElement.replace_with()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">extrait une balise ou une chaîne de l'arborescence, puis la remplace par une ou plusieurs balises ou chaînes de votre choix&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s1">'&lt;a href="http://example.com/"&gt;I linked to &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;'</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">a_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">a</span>

<span class="n">new_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="s2">"b"</span><span class="p">)</span>
<span class="n">new_tag</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="s2">"example.com"</span>
<span class="n">a_tag</span><span class="o">.</span><span class="n">i</span><span class="o">.</span><span class="n">replace_with</span><span class="p">(</span><span class="n">new_tag</span><span class="p">)</span>

<span class="n">a_tag</span>
<span class="c1"># &lt;a href="http://example.com/"&gt;I linked to &lt;b&gt;example.com&lt;/b&gt;&lt;/a&gt;</span>

<span class="n">bold_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="s2">"b"</span><span class="p">)</span>
<span class="n">bold_tag</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="s2">"example"</span>
<span class="n">i_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="s2">"i"</span><span class="p">)</span>
<span class="n">i_tag</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="s2">"net"</span>
<span class="n">a_tag</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">replace_with</span><span class="p">(</span><span class="n">bold_tag</span><span class="p">,</span> <span class="s2">"."</span><span class="p">,</span> <span class="n">i_tag</span><span class="p">)</span>

<span class="n">a_tag</span>
<span class="c1"># &lt;a href="http://example.com/"&gt;I linked to &lt;b&gt;example&lt;/b&gt;.&lt;i&gt;net&lt;/i&gt;&lt;/a&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">replace_with()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">renvoie la balise ou la chaîne qui a été remplacée, afin que vous puissiez l'examiner ou la rajouter à une autre partie de l'arborescence.</font></font></p>
<p><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La possibilité de transmettre plusieurs arguments dans replace_with() est nouvelle dans Beautiful Soup 4.10.0.</font></font></cite></p>
</section>
<section id="wrap">
<h2><code class="docutils literal notranslate"><span class="pre">wrap()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#wrap" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">PageElement.wrap()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">encapsule un élément dans l' </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet que vous spécifiez. Il renvoie le nouveau wrapper&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;p&gt;I wish I was bold.&lt;/p&gt;"</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">string</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="s2">"b"</span><span class="p">))</span>
<span class="c1"># &lt;b&gt;I wish I was bold.&lt;/b&gt;</span>

<span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">new_tag</span><span class="p">(</span><span class="s2">"div"</span><span class="p">))</span>
<span class="c1"># &lt;div&gt;&lt;p&gt;&lt;b&gt;I wish I was bold.&lt;/b&gt;&lt;/p&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cette méthode est nouvelle dans Beautiful Soup 4.0.5.</font></font></cite></p>
</section>
<section id="unwrap">
<h2><code class="docutils literal notranslate"><span class="pre">unwrap()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#unwrap" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Tag.unwrap()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est le contraire de </font></font><code class="docutils literal notranslate"><span class="pre">wrap()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Il remplace une balise par tout ce qu'elle contient. C'est bon pour supprimer le balisage&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s1">'&lt;a href="http://example.com/"&gt;I linked to &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;'</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">a_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">a</span>

<span class="n">a_tag</span><span class="o">.</span><span class="n">i</span><span class="o">.</span><span class="n">unwrap</span><span class="p">()</span>
<span class="n">a_tag</span>
<span class="c1"># &lt;a href="http://example.com/"&gt;I linked to example.com&lt;/a&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme </font></font><code class="docutils literal notranslate"><span class="pre">replace_with()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code class="docutils literal notranslate"><span class="pre">unwrap()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">renvoie la balise qui a été remplacée.</font></font></p>
</section>
<section id="smooth">
<h2><code class="docutils literal notranslate"><span class="pre">smooth()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#smooth" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Après avoir appelé un certain nombre de méthodes qui modifient l'arborescence d'analyse, vous pouvez vous retrouver avec deux ou plusieurs </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objets côte à côte. Beautiful Soup n'a aucun problème avec cela, mais comme cela ne peut pas se produire dans un document fraîchement analysé, vous ne pouvez pas vous attendre à un comportement comme celui-ci&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;p&gt;A one&lt;/p&gt;"</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">", a two"</span><span class="p">)</span>

<span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">contents</span>
<span class="c1"># ['A one', ', a two']</span>

<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
<span class="c1"># b'&lt;p&gt;A one, a two&lt;/p&gt;'</span>

<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># &lt;p&gt;</span>
<span class="c1">#  A one</span>
<span class="c1">#  , a two</span>
<span class="c1"># &lt;/p&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez appeler </font></font><code class="docutils literal notranslate"><span class="pre">Tag.smooth()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour nettoyer l'arborescence d'analyse en consolidant les chaînes adjacentes&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">smooth</span><span class="p">()</span>

<span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">contents</span>
<span class="c1"># ['A one, a two']</span>

<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># &lt;p&gt;</span>
<span class="c1">#  A one, a two</span>
<span class="c1"># &lt;/p&gt;</span>
</pre></div>
</div>
<p><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cette méthode est nouvelle dans Beautiful Soup 4.8.0.</font></font></cite></p>
</section>
</section>
<section id="output">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sortir </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#output" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h1>
<section id="pretty-printing">
<span id="prettyprinting"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jolie impression </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#pretty-printing" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La </font></font><code class="docutils literal notranslate"><span class="pre">prettify()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode transformera un arbre d'analyse Beautiful Soup en une chaîne Unicode bien formatée, avec une ligne séparée pour chaque balise et chaque chaîne&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s1">'&lt;html&gt;&lt;head&gt;&lt;body&gt;&lt;a href="http://example.com/"&gt;I linked to &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;'</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">()</span>
<span class="c1"># '&lt;html&gt;\n &lt;head&gt;\n &lt;/head&gt;\n &lt;body&gt;\n  &lt;a href="http://example.com/"&gt;\n...'</span>

<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># &lt;html&gt;</span>
<span class="c1">#  &lt;head&gt;</span>
<span class="c1">#  &lt;/head&gt;</span>
<span class="c1">#  &lt;body&gt;</span>
<span class="c1">#   &lt;a href="http://example.com/"&gt;</span>
<span class="c1">#    I linked to</span>
<span class="c1">#    &lt;i&gt;</span>
<span class="c1">#     example.com</span>
<span class="c1">#    &lt;/i&gt;</span>
<span class="c1">#   &lt;/a&gt;</span>
<span class="c1">#  &lt;/body&gt;</span>
<span class="c1"># &lt;/html&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez faire appel </font></font><code class="docutils literal notranslate"><span class="pre">prettify()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">à l'objet de niveau supérieur </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou à l'un de ses </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objets&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># &lt;a href="http://example.com/"&gt;</span>
<span class="c1">#  I linked to</span>
<span class="c1">#  &lt;i&gt;</span>
<span class="c1">#   example.com</span>
<span class="c1">#  &lt;/i&gt;</span>
<span class="c1"># &lt;/a&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puisqu'il ajoute des espaces (sous forme de nouvelles lignes), </font></font><code class="docutils literal notranslate"><span class="pre">prettify()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cela modifie la signification d'un document HTML et ne doit pas être utilisé pour en reformater un. L'objectif de </font></font><code class="docutils literal notranslate"><span class="pre">prettify()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est de vous aider à comprendre visuellement la structure des documents avec lesquels vous travaillez.</font></font></p>
</section>
<section id="non-pretty-printing">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impression pas jolie </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#non-pretty-printing" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous voulez juste une chaîne, sans formatage sophistiqué, vous pouvez faire appel
 </font></font><code class="docutils literal notranslate"><span class="pre">str()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">à un </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet, ou à un contenu </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">à l'intérieur&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">str</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
<span class="c1"># '&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;a href="http://example.com/"&gt;I linked to &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;'</span>

<span class="nb">str</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<span class="c1"># '&lt;a href="http://example.com/"&gt;I linked to &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La </font></font><code class="docutils literal notranslate"><span class="pre">str()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonction renvoie une chaîne codée en UTF-8. Voir
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#encodings"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encodages</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour d’autres options.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez également appeler </font></font><code class="docutils literal notranslate"><span class="pre">encode()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour obtenir une chaîne d'octets et </font></font><code class="docutils literal notranslate"><span class="pre">decode()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pour obtenir Unicode.</font></font></p>
</section>
<section id="output-formatters">
<span id="id13"></span><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formateurs de sortie </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#output-formatters" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous donnez à Beautiful Soup un document contenant des entités HTML telles que «&nbsp;&amp;lquot;&nbsp;», elles seront converties en caractères Unicode&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&amp;ldquo;Dammit!&amp;rdquo; he said."</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="nb">str</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
<span class="c1"># '“Dammit!” he said.'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous convertissez ensuite le document en chaîne d'octets, les caractères Unicode seront codés en UTF-8. Vous ne récupérerez pas les entités HTML&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">"utf8"</span><span class="p">)</span>
<span class="c1"># b'\xe2\x80\x9cDammit!\xe2\x80\x9d he said.'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par défaut, les seuls caractères échappés lors de la sortie sont des esperluettes nues et des crochets angulaires. Ceux-ci sont transformés en « &amp; », « &lt; » et « &gt; », afin que Beautiful Soup ne génère pas par inadvertance du HTML ou du XML invalide&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;p&gt;The law firm of Dewey, Cheatem, &amp; Howe&lt;/p&gt;"</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">p</span>
<span class="c1"># &lt;p&gt;The law firm of Dewey, Cheatem, &amp;amp; Howe&lt;/p&gt;</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;a href="http://example.com/?foo=val1&amp;bar=val2"&gt;A link&lt;/a&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span>
<span class="c1"># &lt;a href="http://example.com/?foo=val1&amp;amp;bar=val2"&gt;A link&lt;/a&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez modifier ce comportement en fournissant une valeur pour l'
 </font></font><code class="docutils literal notranslate"><span class="pre">formatter</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument de </font></font><code class="docutils literal notranslate"><span class="pre">prettify()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code class="docutils literal notranslate"><span class="pre">encode()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou
 </font></font><code class="docutils literal notranslate"><span class="pre">decode()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Beautiful Soup reconnaît cinq valeurs possibles pour
 </font></font><code class="docutils literal notranslate"><span class="pre">formatter</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La valeur par défaut est </font></font><code class="docutils literal notranslate"><span class="pre">formatter="minimal"</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Les chaînes ne seront traitées que suffisamment pour garantir que Beautiful Soup génère du HTML/XML valide&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">french</span> <span class="o">=</span> <span class="s2">"&lt;p&gt;Il a dit &amp;lt;&amp;lt;Sacr&amp;eacute; bleu!&amp;gt;&amp;gt;&lt;/p&gt;"</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">french</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="s2">"minimal"</span><span class="p">))</span>
<span class="c1"># &lt;p&gt;</span>
<span class="c1">#  Il a dit &amp;lt;&amp;lt;Sacré bleu!&amp;gt;&amp;gt;</span>
<span class="c1"># &lt;/p&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous transmettez </font></font><code class="docutils literal notranslate"><span class="pre">formatter="html"</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Beautiful Soup convertira les caractères Unicode en entités HTML autant que possible&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="s2">"html"</span><span class="p">))</span>
<span class="c1"># &lt;p&gt;</span>
<span class="c1">#  Il a dit &amp;lt;&amp;lt;Sacr&amp;eacute; bleu!&amp;gt;&amp;gt;</span>
<span class="c1"># &lt;/p&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous transmettez </font></font><code class="docutils literal notranslate"><span class="pre">formatter="html5"</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, c'est similaire à
 </font></font><code class="docutils literal notranslate"><span class="pre">formatter="html"</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais Beautiful Soup omettra la barre oblique de fermeture dans les balises vides HTML comme « br »&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">br</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;br&gt;"</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span><span class="o">.</span><span class="n">br</span>

<span class="nb">print</span><span class="p">(</span><span class="n">br</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="s2">"html"</span><span class="p">))</span>
<span class="c1"># b'&lt;br/&gt;'</span>

<span class="nb">print</span><span class="p">(</span><span class="n">br</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="s2">"html5"</span><span class="p">))</span>
<span class="c1"># b'&lt;br&gt;'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De plus, tous les attributs dont les valeurs sont une chaîne vide deviendront des attributs booléens de style HTML&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">option</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;option selected=""&gt;&lt;/option&gt;'</span><span class="p">)</span><span class="o">.</span><span class="n">option</span>
<span class="nb">print</span><span class="p">(</span><span class="n">option</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="s2">"html"</span><span class="p">))</span>
<span class="c1"># b'&lt;option selected=""&gt;&lt;/option&gt;'</span>

<span class="nb">print</span><span class="p">(</span><span class="n">option</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="s2">"html5"</span><span class="p">))</span>
<span class="c1"># b'&lt;option selected&gt;&lt;/option&gt;'</span>
</pre></div>
</div>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Ce comportement est nouveau depuis Beautiful Soup 4.10.0.)</font></font></em></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous transmettez </font></font><code class="docutils literal notranslate"><span class="pre">formatter=None</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Beautiful Soup ne modifiera pas du tout les chaînes en sortie. Il s'agit de l'option la plus rapide, mais elle peut conduire Beautiful Soup à générer du HTML/XML non valide, comme dans ces exemples&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
<span class="c1"># &lt;p&gt;</span>
<span class="c1">#  Il a dit &lt;&lt;Sacré bleu!&gt;&gt;</span>
<span class="c1"># &lt;/p&gt;</span>

<span class="n">link_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s1">'&lt;a href="http://example.com/?foo=val1&amp;bar=val2"&gt;A link&lt;/a&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">link_soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
<span class="c1"># b'&lt;a href="http://example.com/?foo=val1&amp;bar=val2"&gt;A link&lt;/a&gt;'</span>
</pre></div>
</div>
<section id="formatter-objects">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objets du formateur </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#formatter-objects" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous avez besoin d'un contrôle plus sophistiqué sur votre sortie, vous pouvez instancier l'une des classes de formateur de Beautiful Soup et transmettre cet objet en tant que </font></font><code class="docutils literal notranslate"><span class="pre">formatter</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<dl class="py class">
<dt class="sig sig-object py" id="bs4.HTMLFormatter">
<em class="property"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bs4. </font></font></span></span><span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formateur HTML</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.HTMLFormatter" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd></dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisé pour personnaliser les règles de formatage des documents HTML.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici un formateur qui convertit les chaînes en majuscules, qu'elles apparaissent dans un objet chaîne ou dans une valeur d'attribut&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4.formatter</span> <span class="kn">import</span> <span class="n">HTMLFormatter</span>
<span class="k">def</span> <span class="nf">uppercase</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">str</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

<span class="n">formatter</span> <span class="o">=</span> <span class="n">HTMLFormatter</span><span class="p">(</span><span class="n">uppercase</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="n">formatter</span><span class="p">))</span>
<span class="c1"># &lt;p&gt;</span>
<span class="c1">#  IL A DIT &lt;&lt;SACRÉ BLEU!&gt;&gt;</span>
<span class="c1"># &lt;/p&gt;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">link_soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">prettify</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="n">formatter</span><span class="p">))</span>
<span class="c1"># &lt;a href="HTTP://EXAMPLE.COM/?FOO=VAL1&amp;BAR=VAL2"&gt;</span>
<span class="c1">#  A LINK</span>
<span class="c1"># &lt;/a&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici un formateur qui augmente la largeur d'indentation lors d'une jolie impression&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">formatter</span> <span class="o">=</span> <span class="n">HTMLFormatter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">link_soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">prettify</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="n">formatter</span><span class="p">))</span>
<span class="c1"># &lt;a href="http://example.com/?foo=val1&amp;bar=val2"&gt;</span>
<span class="c1">#         A link</span>
<span class="c1"># &lt;/a&gt;</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="bs4.XMLFormatter">
<em class="property"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bs4. </font></font></span></span><span class="sig-name descname"><span class="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formateur XML</font></font></span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.XMLFormatter" title="Lien vers cette définition"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¶</font></font></a></dt>
<dd></dd></dl>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisé pour personnaliser les règles de formatage des documents XML.</font></font></p>
</section>
<section id="writing-your-own-formatter">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Écrire votre propre formateur </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#writing-your-own-formatter" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le sous-classement </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.HTMLFormatter" title="bs4.HTMLFormatter"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTMLFormatter</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.XMLFormatter" title="bs4.XMLFormatter"><code class="xref py py-class docutils literal notranslate"><span class="pre">XMLFormatter</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vous donnera encore plus de contrôle sur la sortie. Par exemple, Beautiful Soup trie les attributs de chaque balise par défaut&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">attr_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="sa">b</span><span class="s1">'&lt;p z="1" m="2" a="3"&gt;&lt;/p&gt;'</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">attr_soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
<span class="c1"># &lt;p a="3" m="2" z="1"&gt;&lt;/p&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour désactiver cela, vous pouvez sous-classer la </font></font><code class="docutils literal notranslate"><span class="pre">Formatter.attributes()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
méthode, qui contrôle quels attributs sont générés et dans quel ordre. Cette implémentation filtre également l'attribut appelé «&nbsp;m&nbsp;» chaque fois qu'il apparaît&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">UnsortedAttributes</span><span class="p">(</span><span class="n">HTMLFormatter</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">tag</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s1">'m'</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">yield</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span>

<span class="nb">print</span><span class="p">(</span><span class="n">attr_soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="n">UnsortedAttributes</span><span class="p">()))</span>
<span class="c1"># &lt;p z="1" a="3"&gt;&lt;/p&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une dernière mise en garde&nbsp;: si vous créez un </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.CData" title="bs4.CData"><code class="xref py py-class docutils literal notranslate"><span class="pre">CData</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet, le texte à l'intérieur de cet objet est toujours présenté </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exactement tel qu'il apparaît, sans mise en forme</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Beautiful Soup appellera votre fonction de substitution d'entité, juste au cas où vous auriez écrit une fonction personnalisée qui compte toutes les chaînes du document ou quelque chose du genre, mais elle ignorera la valeur de retour&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4.element</span> <span class="kn">import</span> <span class="n">CData</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;a&gt;&lt;/a&gt;"</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">string</span> <span class="o">=</span> <span class="n">CData</span><span class="p">(</span><span class="s2">"one &lt; three"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">prettify</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="s2">"html"</span><span class="p">))</span>
<span class="c1"># &lt;a&gt;</span>
<span class="c1">#  &lt;![CDATA[one &lt; three]]&gt;</span>
<span class="c1"># &lt;/a&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="get-text">
<h2><code class="docutils literal notranslate"><span class="pre">get_text()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#get-text" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous souhaitez uniquement le texte lisible par l'homme à l'intérieur d'un document ou d'une balise, vous pouvez utiliser la
 </font></font><code class="docutils literal notranslate"><span class="pre">get_text()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode. Il renvoie tout le texte d'un document ou sous une balise, sous la forme d'une seule chaîne Unicode&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s1">'&lt;a href="http://example.com/"&gt;</span><span class="se">\n</span><span class="s1">I linked to &lt;i&gt;example.com&lt;/i&gt;</span><span class="se">\n</span><span class="s1">&lt;/a&gt;'</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>

<span class="n">soup</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
<span class="s1">'</span><span class="se">\n</span><span class="s1">I linked to example.com</span><span class="se">\n</span><span class="s1">'</span>
<span class="n">soup</span><span class="o">.</span><span class="n">i</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
<span class="s1">'example.com'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez spécifier une chaîne à utiliser pour joindre les morceaux de texte entre eux&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># soup.get_text("|")</span>
<span class="s1">'</span><span class="se">\n</span><span class="s1">I linked to |example.com|</span><span class="se">\n</span><span class="s1">'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez demander à Beautiful Soup de supprimer les espaces au début et à la fin de chaque morceau de texte&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># soup.get_text("|", strip=True)</span>
<span class="s1">'I linked to|example.com'</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais à ce stade, vous souhaiterez peut-être utiliser le générateur </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#string-generators"><span class="std std-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.stripped_strings</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
à la place et traiter le texte vous-même&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">text</span> <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">stripped_strings</span><span class="p">]</span>
<span class="c1"># ['I linked to', 'example.com']</span>
</pre></div>
</div>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depuis la version 4.9.0 de Beautiful Soup, lorsque lxml ou html.parser sont utilisés, le contenu des balises &lt;script&gt;, &lt;style&gt; et &lt;template&gt; n'est généralement pas considéré comme du « texte », puisque ces balises ne sont pas partie du contenu visible par l'homme de la page.</font></font></em></p>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depuis Beautiful Soup version 4.10.0, vous pouvez appeler get_text(), .strings ou .stripped_strings sur un objet NavigableString. Il renverra soit l'objet lui-même, soit rien, donc la seule raison de le faire est lorsque vous parcourez une liste mixte.</font></font></em></p>
</section>
</section>
<section id="specifying-the-parser-to-use">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spécifier l'analyseur à utiliser </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#specifying-the-parser-to-use" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous avez juste besoin d'analyser du HTML, vous pouvez transférer le balisage dans le
 </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">constructeur, et tout ira probablement bien. Beautiful Soup choisira un analyseur pour vous et analysera les données. Mais il existe quelques arguments supplémentaires que vous pouvez transmettre au constructeur pour modifier l'analyseur utilisé.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le premier argument du </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">constructeur est une chaîne ou un descripteur de fichier ouvert, la source du balisage que vous souhaitez analyser. Le deuxième argument concerne </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la façon dont</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous souhaitez que le balisage soit analysé.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous ne spécifiez rien, vous obtiendrez le meilleur analyseur HTML installé. Beautiful Soup classe l'analyseur de lxml comme étant le meilleur, puis celui de html5lib, puis l'analyseur intégré de Python. Vous pouvez remplacer cela en spécifiant l'un des éléments suivants&nbsp;:</font></font></p>
<ul class="simple">
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quel type de balisage vous souhaitez analyser. Les valeurs actuellement prises en charge sont « html », « xml » et « html5 ».</font></font></p></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le nom de la bibliothèque d'analyseur que vous souhaitez utiliser. Les options actuellement prises en charge sont « lxml », « html5lib » et « html.parser » (l'analyseur HTML intégré à Python).</font></font></p></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La section </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installer un analyseur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> compare les analyseurs pris en charge.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous n'avez pas installé d'analyseur approprié, Beautiful Soup ignorera votre demande et choisira un autre analyseur. À l'heure actuelle, le seul analyseur XML pris en charge est lxml. Si lxml n'est pas installé, demander un analyseur XML ne vous en donnera pas, et demander « lxml » ne fonctionnera pas non plus.</font></font></p>
<section id="differences-between-parsers">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Différences entre les analyseurs </font></font><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#differences-between-parsers" title="Lien vers cette rubrique"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¶</font></font></a></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beautiful Soup présente la même interface pour un certain nombre d'analyseurs différents, mais chaque analyseur est différent. Différents analyseurs créeront différents arbres d'analyse à partir du même document. Les plus grandes différences se situent entre les analyseurs HTML et les analyseurs XML. Voici un court document, analysé au format HTML à l'aide de l'analyseur fourni avec Python&nbsp;:</font></font></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;a&gt;&lt;b/&gt;&lt;/a&gt;"</span><span class="p">,</span> <span class="s2">"html.parser"</span><span class="p">)</span>
<span class="c1"># &lt;a&gt;&lt;b&gt;&lt;/b&gt;&lt;/a&gt;</span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puisqu'une balise &lt;b/&gt; ​​autonome n'est pas du HTML valide, html.parser la transforme en une paire de balises &lt;b&gt;&lt;/b&gt;.</font></font></p>
<p>Here’s the same document parsed as XML (running this requires that you
have lxml installed). Note that the standalone &lt;b/&gt; tag is left alone, and
that the document is given an XML declaration instead of being put
into an &lt;html&gt; tag.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;a&gt;&lt;b/&gt;&lt;/a&gt;"</span><span class="p">,</span> <span class="s2">"xml"</span><span class="p">))</span>
<span class="c1"># &lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="c1"># &lt;a&gt;&lt;b/&gt;&lt;/a&gt;</span>
</pre></div>
</div>
<p>There are also differences between HTML parsers. If you give Beautiful
Soup a perfectly-formed HTML document, these differences won’t
matter. One parser will be faster than another, but they’ll all give
you a data structure that looks exactly like the original HTML
document.</p>
<p>But if the document is not perfectly-formed, different parsers will
give different results. Here’s a short, invalid document parsed using
lxml’s HTML parser. Note that the &lt;a&gt; tag gets wrapped in &lt;body&gt; and
&lt;html&gt; tags, and the dangling &lt;/p&gt; tag is simply ignored:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;a&gt;&lt;/p&gt;"</span><span class="p">,</span> <span class="s2">"lxml"</span><span class="p">)</span>
<span class="c1"># &lt;html&gt;&lt;body&gt;&lt;a&gt;&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;</span>
</pre></div>
</div>
<p>Here’s the same document parsed using html5lib:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;a&gt;&lt;/p&gt;"</span><span class="p">,</span> <span class="s2">"html5lib"</span><span class="p">)</span>
<span class="c1"># &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;a&gt;&lt;p&gt;&lt;/p&gt;&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;</span>
</pre></div>
</div>
<p>Instead of ignoring the dangling &lt;/p&gt; tag, html5lib pairs it with an
opening &lt;p&gt; tag. html5lib also adds an empty &lt;head&gt; tag; lxml didn’t
bother.</p>
<p>Here’s the same document parsed with Python’s built-in HTML
parser:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="s2">"&lt;a&gt;&lt;/p&gt;"</span><span class="p">,</span> <span class="s2">"html.parser"</span><span class="p">)</span>
<span class="c1"># &lt;a&gt;&lt;/a&gt;</span>
</pre></div>
</div>
<p>Like lxml, this parser ignores the closing &lt;/p&gt; tag. Unlike
html5lib or lxml, this parser makes no attempt to create a
well-formed HTML document by adding &lt;html&gt; or &lt;body&gt; tags.</p>
<p>Since the document “&lt;a&gt;&lt;/p&gt;” is invalid, none of these techniques is
the ‘correct’ way to handle it. The html5lib parser uses techniques
that are part of the HTML5 standard, so it has the best claim on being
the ‘correct’ way, but all three techniques are legitimate.</p>
<p>Differences between parsers can affect your script. If you’re planning
on distributing your script to other people, or running it on multiple
machines, you should specify a parser in the <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a>
constructor. That will reduce the chances that your users parse a
document differently from the way you parse it.</p>
</section>
</section>
<section id="encodings">
<h1>Encodings<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#encodings" title="Lien vers cette rubrique">¶</a></h1>
<p>Any HTML or XML document is written in a specific encoding like ASCII
or UTF-8. But when you load that document into Beautiful Soup, you’ll
discover it’s been converted to Unicode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s2">"&lt;h1&gt;Sacr</span><span class="se">\xc3\xa9</span><span class="s2"> bleu!&lt;/h1&gt;"</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">h1</span>
<span class="c1"># &lt;h1&gt;Sacré bleu!&lt;/h1&gt;</span>
<span class="n">soup</span><span class="o">.</span><span class="n">h1</span><span class="o">.</span><span class="n">string</span>
<span class="c1"># 'Sacr\xe9 bleu!'</span>
</pre></div>
</div>
<p>It’s not magic. (That sure would be nice.) Beautiful Soup uses a
sub-library called <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#unicode-dammit">Unicode, Dammit</a> to detect a document’s encoding
and convert it to Unicode. The autodetected encoding is available as
the <code class="docutils literal notranslate"><span class="pre">.original_encoding</span></code> attribute of the <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">original_encoding</span>
<span class="s1">'utf-8'</span>
</pre></div>
</div>
<p>Unicode, Dammit guesses correctly most of the time, but sometimes it
makes mistakes. Sometimes it guesses correctly, but only after a
byte-by-byte search of the document that takes a very long time. If
you happen to know a document’s encoding ahead of time, you can avoid
mistakes and delays by passing it to the <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> constructor
as <code class="docutils literal notranslate"><span class="pre">from_encoding</span></code>.</p>
<p>Here’s a document written in ISO-8859-8. The document is so short that
Unicode, Dammit can’t get a lock on it, and misidentifies it as
ISO-8859-7:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">"&lt;h1&gt;</span><span class="se">\xed\xe5\xec\xf9</span><span class="s2">&lt;/h1&gt;"</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">h1</span><span class="p">)</span>
<span class="c1"># &lt;h1&gt;νεμω&lt;/h1&gt;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">original_encoding</span><span class="p">)</span>
<span class="c1"># iso-8859-7</span>
</pre></div>
</div>
<p>We can fix this by passing in the correct <code class="docutils literal notranslate"><span class="pre">from_encoding</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">,</span> <span class="n">from_encoding</span><span class="o">=</span><span class="s2">"iso-8859-8"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">h1</span><span class="p">)</span>
<span class="c1"># &lt;h1&gt;םולש&lt;/h1&gt;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">original_encoding</span><span class="p">)</span>
<span class="c1"># iso8859-8</span>
</pre></div>
</div>
<p>If you don’t know what the correct encoding is, but you know that
Unicode, Dammit is guessing wrong, you can pass the wrong guesses in
as <code class="docutils literal notranslate"><span class="pre">exclude_encodings</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">,</span> <span class="n">exclude_encodings</span><span class="o">=</span><span class="p">[</span><span class="s2">"iso-8859-7"</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">h1</span><span class="p">)</span>
<span class="c1"># &lt;h1&gt;םולש&lt;/h1&gt;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">original_encoding</span><span class="p">)</span>
<span class="c1"># WINDOWS-1255</span>
</pre></div>
</div>
<p>Windows-1255 isn’t 100% correct, but that encoding is a compatible
superset of ISO-8859-8, so it’s close enough. (<code class="docutils literal notranslate"><span class="pre">exclude_encodings</span></code>
is a new feature in Beautiful Soup 4.4.0.)</p>
<p>In rare cases (usually when a UTF-8 document contains text written in
a completely different encoding), the only way to get Unicode may be
to replace some characters with the special Unicode character
“REPLACEMENT CHARACTER” (U+FFFD, �). If Unicode, Dammit needs to do
this, it will set the <code class="docutils literal notranslate"><span class="pre">.contains_replacement_characters</span></code> attribute
to <code class="docutils literal notranslate"><span class="pre">True</span></code> on the <code class="docutils literal notranslate"><span class="pre">UnicodeDammit</span></code> or <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> object. This
lets you know that the Unicode representation is not an exact
representation of the original–some data was lost. If a document
contains �, but <code class="docutils literal notranslate"><span class="pre">.contains_replacement_characters</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>,
you’ll know that the � was there originally (as it is in this
paragraph) and doesn’t stand in for missing data.</p>
<section id="output-encoding">
<h2>Output encoding<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#output-encoding" title="Lien vers cette rubrique">¶</a></h2>
<p>When you write out an output document from Beautiful Soup, you get a UTF-8
document, even if the input document wasn’t in UTF-8 to begin with. Here’s a
document written in the Latin-1 encoding:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">'''</span>
<span class="s1"> &lt;html&gt;</span>
<span class="s1">  &lt;head&gt;</span>
<span class="s1">   &lt;meta content="text/html; charset=ISO-Latin-1" http-equiv="Content-type" /&gt;</span>
<span class="s1">  &lt;/head&gt;</span>
<span class="s1">  &lt;body&gt;</span>
<span class="s1">   &lt;p&gt;Sacr</span><span class="se">\xe9</span><span class="s1"> bleu!&lt;/p&gt;</span>
<span class="s1">  &lt;/body&gt;</span>
<span class="s1"> &lt;/html&gt;</span>
<span class="s1">'''</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># &lt;html&gt;</span>
<span class="c1">#  &lt;head&gt;</span>
<span class="c1">#   &lt;meta content="text/html; charset=utf-8" http-equiv="Content-type" /&gt;</span>
<span class="c1">#  &lt;/head&gt;</span>
<span class="c1">#  &lt;body&gt;</span>
<span class="c1">#   &lt;p&gt;</span>
<span class="c1">#    Sacré bleu!</span>
<span class="c1">#   &lt;/p&gt;</span>
<span class="c1">#  &lt;/body&gt;</span>
<span class="c1"># &lt;/html&gt;</span>
</pre></div>
</div>
<p>Note that the &lt;meta&gt; tag has been rewritten to reflect the fact that
the document is now in UTF-8.</p>
<p>If you don’t want UTF-8, you can pass an encoding into <code class="docutils literal notranslate"><span class="pre">prettify()</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">(</span><span class="s2">"latin-1"</span><span class="p">))</span>
<span class="c1"># &lt;html&gt;</span>
<span class="c1">#  &lt;head&gt;</span>
<span class="c1">#   &lt;meta content="text/html; charset=latin-1" http-equiv="Content-type" /&gt;</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<p>You can also call encode() on the <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> object, or any
element in the soup, just as if it were a Python string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">"latin-1"</span><span class="p">)</span>
<span class="c1"># b'&lt;p&gt;Sacr\xe9 bleu!&lt;/p&gt;'</span>

<span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">"utf-8"</span><span class="p">)</span>
<span class="c1"># b'&lt;p&gt;Sacr\xc3\xa9 bleu!&lt;/p&gt;'</span>
</pre></div>
</div>
<p>Any characters that can’t be represented in your chosen encoding will
be converted into numeric XML entity references. Here’s a document
that includes the Unicode character SNOWMAN:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="sa">u</span><span class="s2">"&lt;b&gt;</span><span class="se">\N{SNOWMAN}</span><span class="s2">&lt;/b&gt;"</span>
<span class="n">snowman_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">tag</span> <span class="o">=</span> <span class="n">snowman_soup</span><span class="o">.</span><span class="n">b</span>
</pre></div>
</div>
<p>The SNOWMAN character can be part of a UTF-8 document (it looks like
☃), but there’s no representation for that character in ISO-Latin-1 or
ASCII, so it’s converted into “&amp;#9731” for those encodings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">"utf-8"</span><span class="p">))</span>
<span class="c1"># b'&lt;b&gt;\xe2\x98\x83&lt;/b&gt;'</span>

<span class="nb">print</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">"latin-1"</span><span class="p">))</span>
<span class="c1"># b'&lt;b&gt;&amp;#9731;&lt;/b&gt;'</span>

<span class="nb">print</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">"ascii"</span><span class="p">))</span>
<span class="c1"># b'&lt;b&gt;&amp;#9731;&lt;/b&gt;'</span>
</pre></div>
</div>
</section>
<section id="unicode-dammit">
<h2>Unicode, Dammit<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#unicode-dammit" title="Lien vers cette rubrique">¶</a></h2>
<p>You can use Unicode, Dammit without using Beautiful Soup. It’s useful
whenever you have data in an unknown encoding and you just want it to
become Unicode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">UnicodeDammit</span>
<span class="n">dammit</span> <span class="o">=</span> <span class="n">UnicodeDammit</span><span class="p">(</span><span class="sa">b</span><span class="s2">"</span><span class="se">\xc2\xab</span><span class="s2">Sacr</span><span class="se">\xc3\xa9</span><span class="s2"> bleu!</span><span class="se">\xc2\xbb</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dammit</span><span class="o">.</span><span class="n">unicode_markup</span><span class="p">)</span>
<span class="c1"># «Sacré bleu!»</span>
<span class="n">dammit</span><span class="o">.</span><span class="n">original_encoding</span>
<span class="c1"># 'utf-8'</span>
</pre></div>
</div>
<p>Unicode, Dammit’s guesses will get a lot more accurate if you install
one of these Python libraries: <code class="docutils literal notranslate"><span class="pre">charset-normalizer</span></code>, <code class="docutils literal notranslate"><span class="pre">chardet</span></code>, or
<code class="docutils literal notranslate"><span class="pre">cchardet</span></code>. The more data you give Unicode, Dammit, the more
accurately it will guess. If you have your own suspicions as to what
the encoding might be, you can pass them in as a list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dammit</span> <span class="o">=</span> <span class="n">UnicodeDammit</span><span class="p">(</span><span class="s2">"Sacr</span><span class="se">\xe9</span><span class="s2"> bleu!"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"latin-1"</span><span class="p">,</span> <span class="s2">"iso-8859-1"</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dammit</span><span class="o">.</span><span class="n">unicode_markup</span><span class="p">)</span>
<span class="c1"># Sacré bleu!</span>
<span class="n">dammit</span><span class="o">.</span><span class="n">original_encoding</span>
<span class="c1"># 'latin-1'</span>
</pre></div>
</div>
<p>Unicode, Dammit has two special features that Beautiful Soup doesn’t
use.</p>
<section id="smart-quotes">
<h3>Smart quotes<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#smart-quotes" title="Lien vers cette rubrique">¶</a></h3>
<p>You can use Unicode, Dammit to convert Microsoft smart quotes to HTML or XML
entities:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">"&lt;p&gt;I just </span><span class="se">\x93</span><span class="s2">love</span><span class="se">\x94</span><span class="s2"> Microsoft Word</span><span class="se">\x92</span><span class="s2">s smart quotes&lt;/p&gt;"</span>

<span class="n">UnicodeDammit</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="p">[</span><span class="s2">"windows-1252"</span><span class="p">],</span> <span class="n">smart_quotes_to</span><span class="o">=</span><span class="s2">"html"</span><span class="p">)</span><span class="o">.</span><span class="n">unicode_markup</span>
<span class="c1"># '&lt;p&gt;I just &amp;ldquo;love&amp;rdquo; Microsoft Word&amp;rsquo;s smart quotes&lt;/p&gt;'</span>

<span class="n">UnicodeDammit</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="p">[</span><span class="s2">"windows-1252"</span><span class="p">],</span> <span class="n">smart_quotes_to</span><span class="o">=</span><span class="s2">"xml"</span><span class="p">)</span><span class="o">.</span><span class="n">unicode_markup</span>
<span class="c1"># '&lt;p&gt;I just &amp;#x201C;love&amp;#x201D; Microsoft Word&amp;#x2019;s smart quotes&lt;/p&gt;'</span>
</pre></div>
</div>
<p>You can also convert Microsoft smart quotes to ASCII quotes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UnicodeDammit</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="p">[</span><span class="s2">"windows-1252"</span><span class="p">],</span> <span class="n">smart_quotes_to</span><span class="o">=</span><span class="s2">"ascii"</span><span class="p">)</span><span class="o">.</span><span class="n">unicode_markup</span>
<span class="c1"># '&lt;p&gt;I just "love" Microsoft Word\'s smart quotes&lt;/p&gt;'</span>
</pre></div>
</div>
<p>Hopefully you’ll find this feature useful, but Beautiful Soup doesn’t
use it. Beautiful Soup prefers the default behavior, which is to
convert Microsoft smart quotes to Unicode characters along with
everything else:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UnicodeDammit</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="p">[</span><span class="s2">"windows-1252"</span><span class="p">])</span><span class="o">.</span><span class="n">unicode_markup</span>
<span class="c1"># '&lt;p&gt;I just “love” Microsoft Word’s smart quotes&lt;/p&gt;'</span>
</pre></div>
</div>
</section>
<section id="inconsistent-encodings">
<h3>Inconsistent encodings<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#inconsistent-encodings" title="Lien vers cette rubrique">¶</a></h3>
<p>Sometimes a document is mostly in UTF-8, but contains Windows-1252
characters such as (again) Microsoft smart quotes. This can happen
when a website includes data from multiple sources. You can use
<code class="docutils literal notranslate"><span class="pre">UnicodeDammit.detwingle()</span></code> to turn such a document into pure
UTF-8. Here’s a simple example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">snowmen</span> <span class="o">=</span> <span class="p">(</span><span class="sa">u</span><span class="s2">"</span><span class="se">\N{SNOWMAN}</span><span class="s2">"</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">quote</span> <span class="o">=</span> <span class="p">(</span><span class="sa">u</span><span class="s2">"</span><span class="se">\N{LEFT DOUBLE QUOTATION MARK}</span><span class="s2">I like snowmen!</span><span class="se">\N{RIGHT DOUBLE QUOTATION MARK}</span><span class="s2">"</span><span class="p">)</span>
<span class="n">doc</span> <span class="o">=</span> <span class="n">snowmen</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">"utf8"</span><span class="p">)</span> <span class="o">+</span> <span class="n">quote</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">"windows_1252"</span><span class="p">)</span>
</pre></div>
</div>
<p>This document is a mess. The snowmen are in UTF-8 and the quotes are
in Windows-1252. You can display the snowmen or the quotes, but not
both:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
<span class="c1"># ☃☃☃�I like snowmen!�</span>

<span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">"windows-1252"</span><span class="p">))</span>
<span class="c1"># â˜ƒâ˜ƒâ˜ƒ“I like snowmen!”</span>
</pre></div>
</div>
<p>Decoding the document as UTF-8 raises a <code class="docutils literal notranslate"><span class="pre">UnicodeDecodeError</span></code>, and
decoding it as Windows-1252 gives you gibberish. Fortunately,
<code class="docutils literal notranslate"><span class="pre">UnicodeDammit.detwingle()</span></code> will convert the string to pure UTF-8,
allowing you to decode it to Unicode and display the snowmen and quote
marks simultaneously:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">new_doc</span> <span class="o">=</span> <span class="n">UnicodeDammit</span><span class="o">.</span><span class="n">detwingle</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">new_doc</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">"utf8"</span><span class="p">))</span>
<span class="c1"># ☃☃☃“I like snowmen!”</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">UnicodeDammit.detwingle()</span></code> only knows how to handle Windows-1252
embedded in UTF-8 (or vice versa, I suppose), but this is the most
common case.</p>
<p>Note that you must know to call <code class="docutils literal notranslate"><span class="pre">UnicodeDammit.detwingle()</span></code> on your
data before passing it into <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> or the <code class="docutils literal notranslate"><span class="pre">UnicodeDammit</span></code>
constructor. Beautiful Soup assumes that a document has a single
encoding, whatever it might be. If you pass it a document that
contains both UTF-8 and Windows-1252, it’s likely to think the whole
document is Windows-1252, and the document will come out looking like
<code class="docutils literal notranslate"><span class="pre">â˜ƒâ˜ƒâ˜ƒ“I</span> <span class="pre">like</span> <span class="pre">snowmen!”</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">UnicodeDammit.detwingle()</span></code> is new in Beautiful Soup 4.1.0.</p>
</section>
</section>
</section>
<section id="line-numbers">
<h1>Line numbers<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#line-numbers" title="Lien vers cette rubrique">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">html.parser</span></code> and <code class="docutils literal notranslate"><span class="pre">html5lib</span></code> parsers can keep track of where in
the original document each <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a> was found. You can access this
information as <code class="docutils literal notranslate"><span class="pre">Tag.sourceline</span></code> (line number) and <code class="docutils literal notranslate"><span class="pre">Tag.sourcepos</span></code>
(position of the start tag within a line):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s2">"&lt;p</span><span class="se">\n</span><span class="s2">&gt;Paragraph 1&lt;/p&gt;</span><span class="se">\n</span><span class="s2">    &lt;p&gt;Paragraph 2&lt;/p&gt;"</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'p'</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">((</span><span class="n">tag</span><span class="o">.</span><span class="n">sourceline</span><span class="p">,</span> <span class="n">tag</span><span class="o">.</span><span class="n">sourcepos</span><span class="p">,</span> <span class="n">tag</span><span class="o">.</span><span class="n">string</span><span class="p">)))</span>
<span class="c1"># (1, 0, 'Paragraph 1')</span>
<span class="c1"># (3, 4, 'Paragraph 2')</span>
</pre></div>
</div>
<p>Note that the two parsers mean slightly different things by
<code class="docutils literal notranslate"><span class="pre">sourceline</span></code> and <code class="docutils literal notranslate"><span class="pre">sourcepos</span></code>. For html.parser, these numbers
represent the position of the initial less-than sign. For html5lib,
these numbers represent the position of the final greater-than sign:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html5lib'</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'p'</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">((</span><span class="n">tag</span><span class="o">.</span><span class="n">sourceline</span><span class="p">,</span> <span class="n">tag</span><span class="o">.</span><span class="n">sourcepos</span><span class="p">,</span> <span class="n">tag</span><span class="o">.</span><span class="n">string</span><span class="p">)))</span>
<span class="c1"># (2, 0, 'Paragraph 1')</span>
<span class="c1"># (3, 6, 'Paragraph 2')</span>
</pre></div>
</div>
<p>You can shut off this feature by passing <code class="docutils literal notranslate"><span class="pre">store_line_numbers=False</span></code>
into the <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> constructor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s2">"&lt;p</span><span class="se">\n</span><span class="s2">&gt;Paragraph 1&lt;/p&gt;</span><span class="se">\n</span><span class="s2">    &lt;p&gt;Paragraph 2&lt;/p&gt;"</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">,</span> <span class="n">store_line_numbers</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">sourceline</span><span class="p">)</span>
<span class="c1"># None</span>
</pre></div>
</div>
<p><cite>This feature is new in 4.8.1, and the parsers based on lxml don’t
support it.</cite></p>
</section>
<section id="comparing-objects-for-equality">
<h1>Comparing objects for equality<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#comparing-objects-for-equality" title="Lien vers cette rubrique">¶</a></h1>
<p>Beautiful Soup says that two <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a> or <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a> objects
are equal when they represent the same HTML or XML markup, even if their
attributes are in a different order or they live in different parts of the
object tree. In this example, the two &lt;b&gt; tags are treated as equal, because
they both look like “&lt;b&gt;pizza&lt;/b&gt;”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s2">"&lt;p&gt;I want &lt;b&gt;pizza&lt;/b&gt; and more &lt;b&gt;pizza&lt;/b&gt;!&lt;/p&gt;"</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">first_b</span><span class="p">,</span> <span class="n">second_b</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'b'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">first_b</span> <span class="o">==</span> <span class="n">second_b</span><span class="p">)</span>
<span class="c1"># True</span>

<span class="nb">print</span><span class="p">(</span><span class="n">first_b</span><span class="o">.</span><span class="n">previous_element</span> <span class="o">==</span> <span class="n">second_b</span><span class="o">.</span><span class="n">previous_element</span><span class="p">)</span>
<span class="c1"># False</span>
</pre></div>
</div>
<p>If you want to see whether two variables refer to exactly the same
object, use <cite>is</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">first_b</span> <span class="ow">is</span> <span class="n">second_b</span><span class="p">)</span>
<span class="c1"># False</span>
</pre></div>
</div>
</section>
<section id="copying-beautiful-soup-objects">
<h1>Copying Beautiful Soup objects<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#copying-beautiful-soup-objects" title="Lien vers cette rubrique">¶</a></h1>
<p>You can use <code class="docutils literal notranslate"><span class="pre">copy.copy()</span></code> to create a copy of any <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a> or
<a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">copy</span>
<span class="n">p_copy</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p_copy</span><span class="p">)</span>
<span class="c1"># &lt;p&gt;I want &lt;b&gt;pizza&lt;/b&gt; and more &lt;b&gt;pizza&lt;/b&gt;!&lt;/p&gt;</span>
</pre></div>
</div>
<p>The copy is considered equal to the original, since it represents the
same markup as the original, but it’s not the same object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">p</span> <span class="o">==</span> <span class="n">p_copy</span><span class="p">)</span>
<span class="c1"># True</span>

<span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">p</span> <span class="ow">is</span> <span class="n">p_copy</span><span class="p">)</span>
<span class="c1"># False</span>
</pre></div>
</div>
<p>The only real difference is that the copy is completely detached from
the original Beautiful Soup object tree, just as if <code class="docutils literal notranslate"><span class="pre">extract()</span></code> had
been called on it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">p_copy</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
<span class="c1"># None</span>
</pre></div>
</div>
<p>This is because two different <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a> objects can’t occupy the same
space at the same time.</p>
</section>
<section id="advanced-parser-customization">
<h1>Advanced parser customization<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#advanced-parser-customization" title="Lien vers cette rubrique">¶</a></h1>
<p>Beautiful Soup offers a number of ways to customize how the parser
treats incoming HTML and XML. This section covers the most commonly
used customization techniques.</p>
<section id="parsing-only-part-of-a-document">
<h2>Parsing only part of a document<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parsing-only-part-of-a-document" title="Lien vers cette rubrique">¶</a></h2>
<p>Let’s say you want to use Beautiful Soup to look at a document’s &lt;a&gt;
tags. It’s a waste of time and memory to parse the entire document and
then go over it again looking for &lt;a&gt; tags. It would be much faster to
ignore everything that wasn’t an &lt;a&gt; tag in the first place. The
<a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.SoupStrainer" title="bs4.SoupeStrainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SoupStrainer</span></code></a> class allows you to choose which parts of an incoming
document are parsed. You just create a <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.SoupStrainer" title="bs4.SoupeStrainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SoupStrainer</span></code></a> and pass it in
to the <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> constructor as the <code class="docutils literal notranslate"><span class="pre">parse_only</span></code> argument.</p>
<p>(Note that <em>this feature won’t work if you’re using the html5lib parser</em>.
If you use html5lib, the whole document will be parsed, no
matter what. This is because html5lib constantly rearranges the parse
tree as it works, and if some part of the document didn’t actually
make it into the parse tree, it’ll crash. To avoid confusion, in the
examples below I’ll be forcing Beautiful Soup to use Python’s
built-in parser.)</p>
<dl class="py class">
<dt class="sig sig-object py" id="bs4.SoupStrainer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bs4.</span></span><span class="sig-name descname"><span class="pre">SoupStrainer</span></span><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.SoupStrainer" title="Lien vers cette définition">¶</a></dt>
<dd></dd></dl>

<p>The <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.SoupStrainer" title="bs4.SoupeStrainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SoupStrainer</span></code></a> class takes the same arguments as a typical
method from <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-the-tree">Searching the tree</a>: <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref">name</span></a>, <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attrs"><span class="std std-ref">attrs</span></a>, <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref">string</span></a>, and <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kwargs"><span class="std std-ref">**kwargs</span></a>. Here are
three <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.SoupStrainer" title="bs4.SoupeStrainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SoupStrainer</span></code></a> objects:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">SoupStrainer</span>

<span class="n">only_a_tags</span> <span class="o">=</span> <span class="n">SoupStrainer</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)</span>

<span class="n">only_tags_with_id_link2</span> <span class="o">=</span> <span class="n">SoupStrainer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">"link2"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">is_short_string</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">string</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">10</span>

<span class="n">only_short_strings</span> <span class="o">=</span> <span class="n">SoupStrainer</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">is_short_string</span><span class="p">)</span>
</pre></div>
</div>
<p>I’m going to bring back the “three sisters” document one more time,
and we’ll see what the document looks like when it’s parsed with these
three <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.SoupStrainer" title="bs4.SoupeStrainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SoupStrainer</span></code></a> objects:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">html_doc</span> <span class="o">=</span> <span class="s2">"""&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;</span>
<span class="s2">&lt;body&gt;</span>
<span class="s2">&lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span>

<span class="s2">&lt;p class="story"&gt;Once upon a time there were three little sisters; and their names were</span>
<span class="s2">&lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;Elsie&lt;/a&gt;,</span>
<span class="s2">&lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; and</span>
<span class="s2">&lt;a href="http://example.com/tillie" class="sister" id="link3"&gt;Tillie&lt;/a&gt;;</span>
<span class="s2">and they lived at the bottom of a well.&lt;/p&gt;</span>

<span class="s2">&lt;p class="story"&gt;...&lt;/p&gt;</span>
<span class="s2">"""</span>

<span class="nb">print</span><span class="p">(</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html_doc</span><span class="p">,</span> <span class="s2">"html.parser"</span><span class="p">,</span> <span class="n">parse_only</span><span class="o">=</span><span class="n">only_a_tags</span><span class="p">)</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;</span>
<span class="c1">#  Elsie</span>
<span class="c1"># &lt;/a&gt;</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;</span>
<span class="c1">#  Lacie</span>
<span class="c1"># &lt;/a&gt;</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;</span>
<span class="c1">#  Tillie</span>
<span class="c1"># &lt;/a&gt;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html_doc</span><span class="p">,</span> <span class="s2">"html.parser"</span><span class="p">,</span> <span class="n">parse_only</span><span class="o">=</span><span class="n">only_tags_with_id_link2</span><span class="p">)</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;</span>
<span class="c1">#  Lacie</span>
<span class="c1"># &lt;/a&gt;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html_doc</span><span class="p">,</span> <span class="s2">"html.parser"</span><span class="p">,</span> <span class="n">parse_only</span><span class="o">=</span><span class="n">only_short_strings</span><span class="p">)</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># Elsie</span>
<span class="c1"># ,</span>
<span class="c1"># Lacie</span>
<span class="c1"># and</span>
<span class="c1"># Tillie</span>
<span class="c1"># ...</span>
<span class="c1">#</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.SoupStrainer" title="bs4.SoupeStrainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SoupStrainer</span></code></a> behavior is as follows:</p>
<ul class="simple">
<li><p>When a tag matches, it is kept (including all its contents, whether they also
match or not).</p></li>
<li><p>When a tag does not match, the tag itself is not kept, but parsing continues
into its contents to look for other tags that do match.</p></li>
</ul>
<p>You can also pass a <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.SoupStrainer" title="bs4.SoupeStrainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SoupStrainer</span></code></a> into any of the methods covered
in <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-the-tree">Searching the tree</a>. This probably isn’t terribly useful, but I
thought I’d mention it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html_doc</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">only_short_strings</span><span class="p">)</span>
<span class="c1"># ['\n\n', '\n\n', 'Elsie', ',\n', 'Lacie', ' and\n', 'Tillie',</span>
<span class="c1">#  '\n\n', '...', '\n']</span>
</pre></div>
</div>
</section>
<section id="customizing-multi-valued-attributes">
<h2>Customizing multi-valued attributes<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#customizing-multi-valued-attributes" title="Lien vers cette rubrique">¶</a></h2>
<p>In an HTML document, an attribute like <code class="docutils literal notranslate"><span class="pre">class</span></code> is given a list of
values, and an attribute like <code class="docutils literal notranslate"><span class="pre">id</span></code> is given a single value, because
the HTML specification treats those attributes differently:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s1">'&lt;a class="cls1 cls2" id="id1 id2"&gt;'</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># ['cls1', 'cls2']</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<span class="c1"># 'id1 id2'</span>
</pre></div>
</div>
<p>You can turn this off by passing in
<code class="docutils literal notranslate"><span class="pre">multi_valued_attributes=None</span></code>. Than all attributes will be given a
single value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">,</span> <span class="n">multi_valued_attributes</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span>
<span class="c1"># 'cls1 cls2'</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span>
<span class="c1"># 'id1 id2'</span>
</pre></div>
</div>
<p>You can customize this behavior quite a bit by passing in a
dictionary for <code class="docutils literal notranslate"><span class="pre">multi_valued_attributes</span></code>. If you need this, look at
<code class="docutils literal notranslate"><span class="pre">HTMLTreeBuilder.DEFAULT_CDATA_LIST_ATTRIBUTES</span></code> to see the
configuration Beautiful Soup uses by default, which is based on the
HTML specification.</p>
<p><cite>(This is a new feature in Beautiful Soup 4.8.0.)</cite></p>
</section>
<section id="handling-duplicate-attributes">
<h2>Handling duplicate attributes<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#handling-duplicate-attributes" title="Lien vers cette rubrique">¶</a></h2>
<p>When using the <code class="docutils literal notranslate"><span class="pre">html.parser</span></code> parser, you can use the
<code class="docutils literal notranslate"><span class="pre">on_duplicate_attribute</span></code> constructor argument to customize what
Beautiful Soup does when it encounters a tag that defines the same
attribute more than once:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">markup</span> <span class="o">=</span> <span class="s1">'&lt;a href="http://url1/" href="http://url2/"&gt;'</span>
</pre></div>
</div>
<p>The default behavior is to use the last value found for the tag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">'href'</span><span class="p">]</span>
<span class="c1"># http://url2/</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">,</span> <span class="n">on_duplicate_attribute</span><span class="o">=</span><span class="s1">'replace'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">'href'</span><span class="p">]</span>
<span class="c1"># http://url2/</span>
</pre></div>
</div>
<p>With <code class="docutils literal notranslate"><span class="pre">on_duplicate_attribute='ignore'</span></code> you can tell Beautiful Soup
to use the <cite>first</cite> value found and ignore the rest:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">,</span> <span class="n">on_duplicate_attribute</span><span class="o">=</span><span class="s1">'ignore'</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">'href'</span><span class="p">]</span>
<span class="c1"># http://url1/</span>
</pre></div>
</div>
<p>(lxml and html5lib always do it this way; their behavior can’t be
configured from within Beautiful Soup.)</p>
<p>If you need more control, you can pass in a function that’s called on each
duplicate value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">accumulate</span><span class="p">(</span><span class="n">attributes_so_far</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attributes_so_far</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">attributes_so_far</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">attributes_so_far</span><span class="p">[</span><span class="n">key</span><span class="p">]]</span>
    <span class="n">attributes_so_far</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">,</span> <span class="n">on_duplicate_attribute</span><span class="o">=</span><span class="n">accumulate</span><span class="p">)</span>
<span class="n">soup</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">'href'</span><span class="p">]</span>
<span class="c1"># ["http://url1/", "http://url2/"]</span>
</pre></div>
</div>
<p><cite>(This is a new feature in Beautiful Soup 4.9.1.)</cite></p>
</section>
<section id="instantiating-custom-subclasses">
<h2>Instantiating custom subclasses<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#instantiating-custom-subclasses" title="Lien vers cette rubrique">¶</a></h2>
<p>When a parser tells Beautiful Soup about a tag or a string, Beautiful
Soup will instantiate a <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a> or <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a> object to
contain that information. Instead of that default behavior, you can
tell Beautiful Soup to instantiate <cite>subclasses</cite> of <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a> or
<a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString" title="bs4.NavigableString"><code class="xref py py-class docutils literal notranslate"><span class="pre">NavigableString</span></code></a>, subclasses you define with custom behavior:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">NavigableString</span>
<span class="k">class</span> <span class="nc">MyTag</span><span class="p">(</span><span class="n">Tag</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">MyString</span><span class="p">(</span><span class="n">NavigableString</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="n">markup</span> <span class="o">=</span> <span class="s2">"&lt;div&gt;some text&lt;/div&gt;"</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">)</span>
<span class="nb">isinstance</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">div</span><span class="p">,</span> <span class="n">MyTag</span><span class="p">)</span>
<span class="c1"># False</span>
<span class="nb">isinstance</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">div</span><span class="o">.</span><span class="n">string</span><span class="p">,</span> <span class="n">MyString</span><span class="p">)</span>
<span class="c1"># False</span>

<span class="n">my_classes</span> <span class="o">=</span> <span class="p">{</span> <span class="n">Tag</span><span class="p">:</span> <span class="n">MyTag</span><span class="p">,</span> <span class="n">NavigableString</span><span class="p">:</span> <span class="n">MyString</span> <span class="p">}</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s1">'html.parser'</span><span class="p">,</span> <span class="n">element_classes</span><span class="o">=</span><span class="n">my_classes</span><span class="p">)</span>
<span class="nb">isinstance</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">div</span><span class="p">,</span> <span class="n">MyTag</span><span class="p">)</span>
<span class="c1"># True</span>
<span class="nb">isinstance</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">div</span><span class="o">.</span><span class="n">string</span><span class="p">,</span> <span class="n">MyString</span><span class="p">)</span>
<span class="c1"># True</span>
</pre></div>
</div>
<p>This can be useful when incorporating Beautiful Soup into a test
framework.</p>
<p><cite>(This is a new feature in Beautiful Soup 4.8.1.)</cite></p>
</section>
</section>
<section id="troubleshooting">
<h1>Troubleshooting<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#troubleshooting" title="Lien vers cette rubrique">¶</a></h1>
<section id="diagnose">
<span id="id14"></span><h2><code class="docutils literal notranslate"><span class="pre">diagnose()</span></code><a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#diagnose" title="Lien vers cette rubrique">¶</a></h2>
<p>If you’re having trouble understanding what Beautiful Soup does to a
document, pass the document into the <code class="docutils literal notranslate"><span class="pre">diagnose()</span></code> function. (This function is new in
Beautiful Soup 4.2.0.) Beautiful Soup will print out a report showing
you how different parsers handle the document, and tell you if you’re
missing a parser that Beautiful Soup could be using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4.diagnose</span> <span class="kn">import</span> <span class="n">diagnose</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"bad.html"</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">diagnose</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Diagnostic running on Beautiful Soup 4.2.0</span>
<span class="c1"># Python version 2.7.3 (default, Aug  1 2012, 05:16:07)</span>
<span class="c1"># I noticed that html5lib is not installed. Installing it may help.</span>
<span class="c1"># Found lxml version 2.3.2.0</span>
<span class="c1">#</span>
<span class="c1"># Trying to parse your data with html.parser</span>
<span class="c1"># Here's what html.parser did with the document:</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<p>Just looking at the output of diagnose() might show you how to solve the
problem. Even if not, you can paste the output of <code class="docutils literal notranslate"><span class="pre">diagnose()</span></code> when
asking for help.</p>
</section>
<section id="errors-when-parsing-a-document">
<h2>Errors when parsing a document<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#errors-when-parsing-a-document" title="Lien vers cette rubrique">¶</a></h2>
<p>There are two different kinds of parse errors. There are crashes,
where you feed a document to Beautiful Soup and it raises an
exception (usually an <code class="docutils literal notranslate"><span class="pre">HTMLParser.HTMLParseError</span></code>). And there is
unexpected behavior, where a Beautiful Soup parse tree looks a lot
different than the document used to create it.</p>
<p>These problems are almost never problems with Beautiful Soup itself.
This is not because Beautiful Soup is an amazingly well-written piece
of software. It’s because Beautiful Soup doesn’t include any parsing
code. Instead, it relies on external parsers. If one parser isn’t
working on a certain document, the best solution is to try a different
parser. See <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser">Installing a parser</a> for details and a parser
comparison. If this doesn’t help, you might need to inspect the
document tree found inside the <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code> object, to see where
the markup you’re looking for actually ended up.</p>
</section>
<section id="version-mismatch-problems">
<h2>Version mismatch problems<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#version-mismatch-problems" title="Lien vers cette rubrique">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SyntaxError:</span> <span class="pre">Invalid</span> <span class="pre">syntax</span></code> (on the line <code class="docutils literal notranslate"><span class="pre">ROOT_TAG_NAME</span> <span class="pre">=</span>
<span class="pre">'[document]'</span></code>): Caused by running an old Python 2 version of
Beautiful Soup under Python 3, without converting the code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImportError:</span> <span class="pre">No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">HTMLParser</span></code> - Caused by running an old
Python 2 version of Beautiful Soup under Python 3.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImportError:</span> <span class="pre">No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">html.parser</span></code> - Caused by running the
Python 3 version of Beautiful Soup under Python 2.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImportError:</span> <span class="pre">No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">BeautifulSoup</span></code> - Caused by running
Beautiful Soup 3 code in an environment that doesn’t have BS3
installed. Or, by writing Beautiful Soup 4 code without knowing that
the package name has changed to <code class="docutils literal notranslate"><span class="pre">bs4</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImportError:</span> <span class="pre">No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">bs4</span></code> - Caused by running Beautiful
Soup 4 code in an environment that doesn’t have BS4 installed.</p></li>
</ul>
</section>
<section id="parsing-xml">
<span id="id15"></span><h2>Parsing XML<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parsing-xml" title="Lien vers cette rubrique">¶</a></h2>
<p>By default, Beautiful Soup parses documents as HTML. To parse a
document as XML, pass in “xml” as the second argument to the
<a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> constructor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="s2">"xml"</span><span class="p">)</span>
</pre></div>
</div>
<p>You’ll need to <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parser-installation"><span class="std std-ref">have lxml installed</span></a>.</p>
</section>
<section id="other-parser-problems">
<h2>Other parser problems<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#other-parser-problems" title="Lien vers cette rubrique">¶</a></h2>
<ul class="simple">
<li><p>If your script works on one computer but not another, or in one
virtual environment but not another, or outside the virtual
environment but not inside, it’s probably because the two
environments have different parser libraries available. For example,
you may have developed the script on a computer that has lxml
installed, and then tried to run it on a computer that only has
html5lib installed. See <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#differences-between-parsers">Differences between parsers</a> for why this
matters, and fix the problem by mentioning a specific parser library
in the <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> constructor.</p></li>
<li><p>Because <a class="reference external" href="http://www.w3.org/TR/html5/syntax.html#syntax">HTML tags and attributes are case-insensitive</a>, all three HTML
parsers convert tag and attribute names to lowercase. That is, the
markup &lt;TAG&gt;&lt;/TAG&gt; is converted to &lt;tag&gt;&lt;/tag&gt;. If you want to
preserve mixed-case or uppercase tags and attributes, you’ll need to
<a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parsing-xml"><span class="std std-ref">parse the document as XML.</span></a></p></li>
</ul>
</section>
<section id="miscellaneous">
<span id="misc"></span><h2>Miscellaneous<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#miscellaneous" title="Lien vers cette rubrique">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UnicodeEncodeError:</span> <span class="pre">'charmap'</span> <span class="pre">codec</span> <span class="pre">can't</span> <span class="pre">encode</span> <span class="pre">character</span>
<span class="pre">'\xfoo'</span> <span class="pre">in</span> <span class="pre">position</span> <span class="pre">bar</span></code> (or just about any other
<code class="docutils literal notranslate"><span class="pre">UnicodeEncodeError</span></code>) - This problem shows up in two main
situations. First, when you try to print a Unicode character that
your console doesn’t know how to display. (See <a class="reference external" href="http://wiki.python.org/moin/PrintFails">this page on the
Python wiki</a> for help.)
Second, when you’re writing to a file and you pass in a Unicode
character that’s not supported by your default encoding. In this
case, the simplest solution is to explicitly encode the Unicode
string into UTF-8 with <code class="docutils literal notranslate"><span class="pre">u.encode("utf8")</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">KeyError:</span> <span class="pre">[attr]</span></code> - Caused by accessing <code class="docutils literal notranslate"><span class="pre">tag['attr']</span></code> when the
tag in question doesn’t define the <code class="docutils literal notranslate"><span class="pre">attr</span></code> attribute. The most
common errors are <code class="docutils literal notranslate"><span class="pre">KeyError:</span> <span class="pre">'href'</span></code> and <code class="docutils literal notranslate"><span class="pre">KeyError:</span> <span class="pre">'class'</span></code>.
Use <code class="docutils literal notranslate"><span class="pre">tag.get('attr')</span></code> if you’re not sure <code class="docutils literal notranslate"><span class="pre">attr</span></code> is
defined, just as you would with a Python dictionary.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">'ResultSet'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'foo'</span></code> - This
usually happens because you expected <code class="docutils literal notranslate"><span class="pre">find_all()</span></code> to return a
single tag or string. But <code class="docutils literal notranslate"><span class="pre">find_all()</span></code> returns a <cite>list</cite> of tags
and strings–a <code class="docutils literal notranslate"><span class="pre">ResultSet</span></code> object. You need to iterate over the
list and look at the <code class="docutils literal notranslate"><span class="pre">.foo</span></code> of each one. Or, if you really only
want one result, you need to use <code class="docutils literal notranslate"><span class="pre">find()</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">find_all()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">'NoneType'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'foo'</span></code> - This
usually happens because you called <code class="docutils literal notranslate"><span class="pre">find()</span></code> and then tried to
access the <cite>.foo`</cite> attribute of the result. But in your case,
<code class="docutils literal notranslate"><span class="pre">find()</span></code> didn’t find anything, so it returned <code class="docutils literal notranslate"><span class="pre">None</span></code>, instead of
returning a tag or a string. You need to figure out why your
<code class="docutils literal notranslate"><span class="pre">find()</span></code> call isn’t returning anything.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">'NavigableString'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span>
<span class="pre">'foo'</span></code> - This usually happens because you’re treating a string as
though it were a tag. You may be iterating over a list, expecting
that it contains nothing but tags, when it actually contains both tags and
strings.</p></li>
</ul>
</section>
<section id="improving-performance">
<h2>Improving Performance<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#improving-performance" title="Lien vers cette rubrique">¶</a></h2>
<p>Beautiful Soup will never be as fast as the parsers it sits on top
of. If response time is critical, if you’re paying for computer time
by the hour, or if there’s any other reason why computer time is more
valuable than programmer time, you should forget about Beautiful Soup
and work directly atop <a class="reference external" href="http://lxml.de/">lxml</a>.</p>
<p>That said, there are things you can do to speed up Beautiful Soup. If
you’re not using lxml as the underlying parser, my advice is to
<a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parser-installation"><span class="std std-ref">start</span></a>. Beautiful Soup parses documents
significantly faster using lxml than using html.parser or html5lib.</p>
<p>You can speed up encoding detection significantly by installing the
<a class="reference external" href="http://pypi.python.org/pypi/cchardet/">cchardet</a> library.</p>
<p><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parsing-only-part-of-a-document">Parsing only part of a document</a> won’t save you much time parsing
the document, but it can save a lot of memory, and it’ll make
<cite>searching</cite> the document much faster.</p>
</section>
</section>
<section id="translating-this-documentation">
<h1>Translating this documentation<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#translating-this-documentation" title="Lien vers cette rubrique">¶</a></h1>
<p>New translations of the Beautiful Soup documentation are greatly
appreciated. Translations should be licensed under the MIT license,
just like Beautiful Soup and its English documentation are.</p>
<p>There are two ways of getting your translation into the main code base
and onto the Beautiful Soup website:</p>
<ol class="arabic simple">
<li><p>Create a branch of the Beautiful Soup repository, add your
translation, and propose a merge with the main branch, the same
as you would do with a proposed change to the source code.</p></li>
<li><p>Send a message to the Beautiful Soup discussion group with a link to
your translation, or attach your translation to the message.</p></li>
</ol>
<p>Use the Chinese or Brazilian Portuguese translations as your model. In
particular, please translate the source file <code class="docutils literal notranslate"><span class="pre">doc/source/index.rst</span></code>,
rather than the HTML version of the documentation. This makes it
possible to publish the documentation in a variety of formats, not
just HTML.</p>
</section>
<section id="id16">
<h1>Beautiful Soup 3<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id16" title="Lien vers cette rubrique">¶</a></h1>
<p>Beautiful Soup 3 is the previous release series, and is no longer
supported. Development of Beautiful Soup 3 stopped in 2012, and the
package was completely discontinued in 2021. There’s no reason to
install it unless you’re trying to get very old software to work, but
it’s published through PyPi as <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a>:</p>
<p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">$</kbd> <kbd class="kbd docutils literal notranslate">pip</kbd> <kbd class="kbd docutils literal notranslate">install</kbd> <kbd class="kbd docutils literal notranslate">BeautifulSoup</kbd></kbd></p>
<p>You can also download <a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/download/3.x/BeautifulSoup-3.2.2.tar.gz">a tarball of the final release, 3.2.2</a>.</p>
<p>If you ran <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">beautifulsoup</span></code> or <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span>
<span class="pre">BeautifulSoup</span></code>, but your code doesn’t work, you installed Beautiful
Soup 3 by mistake. You need to run <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">beautifulsoup4</span></code>.</p>
<p><a class="reference external" href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html">The documentation for Beautiful Soup 3 is archived online</a>.</p>
<section id="porting-code-to-bs4">
<h2>Porting code to BS4<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#porting-code-to-bs4" title="Lien vers cette rubrique">¶</a></h2>
<p>Most code written against Beautiful Soup 3 will work against Beautiful
Soup 4 with one simple change. All you should have to do is change the
package name from <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> to <code class="docutils literal notranslate"><span class="pre">bs4</span></code>. So this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">BeautifulSoup</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
</pre></div>
</div>
<p>becomes this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
</pre></div>
</div>
<ul class="simple">
<li><p>If you get the <code class="docutils literal notranslate"><span class="pre">ImportError</span></code> “No module named BeautifulSoup”, your
problem is that you’re trying to run Beautiful Soup 3 code, but you
only have Beautiful Soup 4 installed.</p></li>
<li><p>If you get the <code class="docutils literal notranslate"><span class="pre">ImportError</span></code> “No module named bs4”, your problem
is that you’re trying to run Beautiful Soup 4 code, but you only
have Beautiful Soup 3 installed.</p></li>
</ul>
<p>Although BS4 is mostly backward-compatible with BS3, most of its
methods have been deprecated and given new names for <a class="reference external" href="http://www.python.org/dev/peps/pep-0008/">PEP 8 compliance</a>. There are numerous other
renames and changes, and a few of them break backward compatibility.</p>
<p>Here’s what you’ll need to know to convert your BS3 code and habits to BS4:</p>
<section id="you-need-a-parser">
<h3>You need a parser<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#you-need-a-parser" title="Lien vers cette rubrique">¶</a></h3>
<p>Beautiful Soup 3 used Python’s <code class="docutils literal notranslate"><span class="pre">SGMLParser</span></code>, a module that was
deprecated and removed in Python 3.0. Beautiful Soup 4 uses
<code class="docutils literal notranslate"><span class="pre">html.parser</span></code> by default, but you can plug in lxml or html5lib and
use that instead. See <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser">Installing a parser</a> for a comparison.</p>
<p>Since <code class="docutils literal notranslate"><span class="pre">html.parser</span></code> is not the same parser as <code class="docutils literal notranslate"><span class="pre">SGMLParser</span></code>, you
may find that Beautiful Soup 4 gives you a different parse tree than
Beautiful Soup 3 for the same markup. If you swap out <code class="docutils literal notranslate"><span class="pre">html.parser</span></code>
for lxml or html5lib, you may find that the parse tree changes yet
again. If this happens, you’ll need to update your scraping code to
process the new tree.</p>
</section>
<section id="method-names">
<h3>Method names<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#method-names" title="Lien vers cette rubrique">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">renderContents</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">encode_contents</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">replaceWith</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">replace_with</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">replaceWithChildren</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">unwrap</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">findAll</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">find_all</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">findAllNext</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">find_all_next</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">findAllPrevious</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">find_all_previous</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">findNext</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">find_next</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">findNextSibling</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">find_next_sibling</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">findNextSiblings</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">find_next_siblings</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">findParent</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">find_parent</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">findParents</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">find_parents</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">findPrevious</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">find_previous</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">findPreviousSibling</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">find_previous_sibling</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">findPreviousSiblings</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">find_previous_siblings</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getText</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">get_text</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nextSibling</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">next_sibling</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">previousSibling</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">previous_sibling</span></code></p></li>
</ul>
<p>Some arguments to the Beautiful Soup constructor were renamed for the
same reasons:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BeautifulSoup(parseOnlyThese=...)</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">BeautifulSoup(parse_only=...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BeautifulSoup(fromEncoding=...)</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">BeautifulSoup(from_encoding=...)</span></code></p></li>
</ul>
<p>I renamed one method for compatibility with Python 3:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Tag.has_key()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Tag.has_attr()</span></code></p></li>
</ul>
<p>I renamed one attribute to use more accurate terminology:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Tag.isSelfClosing</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Tag.is_empty_element</span></code></p></li>
</ul>
<p>I renamed three attributes to avoid using words that have special
meaning to Python. Unlike the others, these changes are <em>not backwards
compatible.</em> If you used these attributes in BS3, your code will break
in BS4 until you change them.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UnicodeDammit.unicode</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">UnicodeDammit.unicode_markup</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tag.next</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Tag.next_element</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tag.previous</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Tag.previous_element</span></code></p></li>
</ul>
<p>These methods are left over from the Beautiful Soup 2 API. They’ve
been deprecated since 2006 and should not be used at all:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Tag.fetchNextSiblings</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tag.fetchPreviousSiblings</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tag.fetchPrevious</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tag.fetchPreviousSiblings</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tag.fetchParents</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tag.findChild</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tag.findChildren</span></code></p></li>
</ul>
</section>
<section id="generators">
<h3>Generators<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#generators" title="Lien vers cette rubrique">¶</a></h3>
<p>I gave the generators PEP 8-compliant names, and transformed them into
properties:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">childGenerator()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">children</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nextGenerator()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">next_elements</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nextSiblingGenerator()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">next_siblings</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">previousGenerator()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">previous_elements</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">previousSiblingGenerator()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">previous_siblings</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recursiveChildGenerator()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">descendants</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parentGenerator()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">parents</span></code></p></li>
</ul>
<p>So instead of this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">parent</span> <span class="ow">in</span> <span class="n">tag</span><span class="o">.</span><span class="n">parentGenerator</span><span class="p">():</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>You can write this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">parent</span> <span class="ow">in</span> <span class="n">tag</span><span class="o">.</span><span class="n">parents</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>(But the old code will still work.)</p>
<p>Some of the generators used to yield <code class="docutils literal notranslate"><span class="pre">None</span></code> after they were done, and
then stop. That was a bug. Now the generators just stop.</p>
<p>There are two new generators, <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#string-generators"><span class="std std-ref">.strings and
.stripped_strings</span></a>. <code class="docutils literal notranslate"><span class="pre">.strings</span></code> yields
NavigableString objects, and <code class="docutils literal notranslate"><span class="pre">.stripped_strings</span></code> yields Python
strings that have had whitespace stripped.</p>
</section>
<section id="xml">
<h3>XML<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#xml" title="Lien vers cette rubrique">¶</a></h3>
<p>There is no longer a <code class="docutils literal notranslate"><span class="pre">BeautifulStoneSoup</span></code> class for parsing XML. To
parse XML you pass in “xml” as the second argument to the
<a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> constructor. For the same reason, the
<a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> constructor no longer recognizes the <code class="docutils literal notranslate"><span class="pre">isHTML</span></code>
argument.</p>
<p>Beautiful Soup’s handling of empty-element XML tags has been
improved. Previously when you parsed XML you had to explicitly say
which tags were considered empty-element tags. The <code class="docutils literal notranslate"><span class="pre">selfClosingTags</span></code>
argument to the constructor is no longer recognized. Instead,
Beautiful Soup considers any empty tag to be an empty-element tag. If
you add a child to an empty-element tag, it stops being an
empty-element tag.</p>
</section>
<section id="entities">
<h3>Entities<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#entities" title="Lien vers cette rubrique">¶</a></h3>
<p>An incoming HTML or XML entity is always converted into the
corresponding Unicode character. Beautiful Soup 3 had a number of
overlapping ways of dealing with entities, which have been
removed. The <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a> constructor no longer recognizes the
<code class="docutils literal notranslate"><span class="pre">smartQuotesTo</span></code> or <code class="docutils literal notranslate"><span class="pre">convertEntities</span></code> arguments. (<a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#unicode-dammit">Unicode,
Dammit</a> still has <code class="docutils literal notranslate"><span class="pre">smart_quotes_to</span></code>, but its default is now to turn
smart quotes into Unicode.) The constants <code class="docutils literal notranslate"><span class="pre">HTML_ENTITIES</span></code>,
<code class="docutils literal notranslate"><span class="pre">XML_ENTITIES</span></code>, and <code class="docutils literal notranslate"><span class="pre">XHTML_ENTITIES</span></code> have been removed, since they
configure a feature (transforming some but not all entities into
Unicode characters) that no longer exists.</p>
<p>If you want to turn Unicode characters back into HTML entities on
output, rather than turning them into UTF-8 characters, you need to
use an <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#output-formatters"><span class="std std-ref">output formatter</span></a>.</p>
</section>
<section id="id17">
<h3>Miscellaneous<a class="headerlink" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id17" title="Lien vers cette rubrique">¶</a></h3>
<p><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#string"><span class="std std-ref">Tag.string</span></a> now operates recursively. If tag A
contains a single tag B and nothing else, then A.string is the same as
B.string. (Previously, it was None.)</p>
<p><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#multi-valued-attributes">Multi-valued attributes</a> like <code class="docutils literal notranslate"><span class="pre">class</span></code> have lists of strings as
their values, not simple strings. This may affect the way you search by CSS
class.</p>
<p><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a> objects now implement the <code class="docutils literal notranslate"><span class="pre">__hash__</span></code> method, such that two
<a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a> objects are considered equal if they generate the same
markup. This may change your script’s behavior if you put <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag" title="bs4.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tag</span></code></a>
objects into a dictionary or set.</p>
<p>If you pass one of the <code class="docutils literal notranslate"><span class="pre">find*</span></code> methods both <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref">string</span></a> <cite>and</cite>
a tag-specific argument like <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#name"><span class="std std-ref">name</span></a>, Beautiful Soup will
search for tags that match your tag-specific criteria and whose
<a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#string"><span class="std std-ref">Tag.string</span></a> matches your <a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id11"><span class="std std-ref">string</span></a>
value. It will <cite>not</cite> find the strings themselves. Previously,
Beautiful Soup ignored the tag-specific arguments and looked for
strings.</p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le </font></font><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup" title="bs4.BeautifulSoup"><code class="xref py py-class docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">constructeur ne reconnaît plus l'
 argument </font></font><cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">markupMassage</font></font></cite><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il est désormais de la responsabilité de l'analyseur de gérer correctement le balisage.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les classes d'analyseurs alternatives rarement utilisées aiment
 </font></font><code class="docutils literal notranslate"><span class="pre">ICantBelieveItsBeautifulSoup</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code class="docutils literal notranslate"><span class="pre">BeautifulSOAP</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ont été supprimées. C'est maintenant à l'analyseur de décider comment gérer le balisage ambigu.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La </font></font><code class="docutils literal notranslate"><span class="pre">prettify()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode renvoie désormais une chaîne Unicode, et non une chaîne d'octets.</font></font></p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Navigation principale">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Table des matières</font></font></a></h3>
    <ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Belle documentation sur la soupe</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#getting-help"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obtenir de l'aide</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#quick-start"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Démarrage rapide</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-beautiful-soup"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installer une belle soupe</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installer un analyseur</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#making-the-soup"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faire la soupe</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kinds-of-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Types d'objets</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag"><code class="docutils literal notranslate"><span class="pre">Tag</span></code></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag.name"><code class="docutils literal notranslate"><span class="pre">Tag.name</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Tag.attrs"><code class="docutils literal notranslate"><span class="pre">Tag.attrs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.NavigableString"><code class="docutils literal notranslate"><span class="pre">NavigableString</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.BeautifulSoup"><code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#special-strings"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cordes spéciales</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Comment"><code class="docutils literal notranslate"><span class="pre">Comment</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#for-html-documents"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour les documents HTML</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Stylesheet"><code class="docutils literal notranslate"><span class="pre">Stylesheet</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Script"><code class="docutils literal notranslate"><span class="pre">Script</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Template"><code class="docutils literal notranslate"><span class="pre">Template</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#for-xml-documents"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour les documents XML</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Declaration"><code class="docutils literal notranslate"><span class="pre">Declaration</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.Doctype"><code class="docutils literal notranslate"><span class="pre">Doctype</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.CData"><code class="docutils literal notranslate"><span class="pre">CData</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.ProcessingInstruction"><code class="docutils literal notranslate"><span class="pre">ProcessingInstruction</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#navigating-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation dans l'arborescence</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#going-down"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descente</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#navigating-using-tag-names"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation à l'aide des noms de balises</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#contents-and-children"><code class="docutils literal notranslate"><span class="pre">.contents</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code class="docutils literal notranslate"><span class="pre">.children</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#descendants"><code class="docutils literal notranslate"><span class="pre">.descendants</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#string"><code class="docutils literal notranslate"><span class="pre">.string</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#strings-and-stripped-strings"><code class="docutils literal notranslate"><span class="pre">.strings</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code class="docutils literal notranslate"><span class="pre">stripped_strings</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#going-up"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monter</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parent"><code class="docutils literal notranslate"><span class="pre">.parent</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parents"><code class="docutils literal notranslate"><span class="pre">.parents</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#going-sideways"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aller de côté</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#next-sibling-and-previous-sibling"><code class="docutils literal notranslate"><span class="pre">.next_sibling</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code class="docutils literal notranslate"><span class="pre">.previous_sibling</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#next-siblings-and-previous-siblings"><code class="docutils literal notranslate"><span class="pre">.next_siblings</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code class="docutils literal notranslate"><span class="pre">.previous_siblings</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#going-back-and-forth"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aller et venir</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#next-element-and-previous-element"><code class="docutils literal notranslate"><span class="pre">.next_element</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code class="docutils literal notranslate"><span class="pre">.previous_element</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#next-elements-and-previous-elements"><code class="docutils literal notranslate"><span class="pre">.next_elements</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code class="docutils literal notranslate"><span class="pre">.previous_elements</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche de l'arbre</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#kinds-of-filters"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Types de filtres</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-string"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un string</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-regular-expression"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une expression régulière</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#true"><code class="docutils literal notranslate"><span class="pre">True</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-function"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une fonction</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-list"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une liste</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-all"><code class="docutils literal notranslate"><span class="pre">find_all()</span></code></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-name-argument"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code class="docutils literal notranslate"><span class="pre">name</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-keyword-arguments"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les arguments des mots-clés</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-by-css-class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche par classe CSS</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-string-argument"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code class="docutils literal notranslate"><span class="pre">string</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-limit-argument"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code class="docutils literal notranslate"><span class="pre">limit</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-recursive-argument"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L' </font></font><code class="docutils literal notranslate"><span class="pre">recursive</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">argument</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#calling-a-tag-is-like-calling-find-all"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Appeler un tag, c'est comme appeler</font></font><code class="docutils literal notranslate"><span class="pre">find_all()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find"><code class="docutils literal notranslate"><span class="pre">find()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-parents-and-find-parent"><code class="docutils literal notranslate"><span class="pre">find_parents()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code class="docutils literal notranslate"><span class="pre">find_parent()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-next-siblings-and-find-next-sibling"><code class="docutils literal notranslate"><span class="pre">find_next_siblings()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code class="docutils literal notranslate"><span class="pre">find_next_sibling()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-previous-siblings-and-find-previous-sibling"><code class="docutils literal notranslate"><span class="pre">find_previous_siblings()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code class="docutils literal notranslate"><span class="pre">find_previous_sibling()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-all-next-and-find-next"><code class="docutils literal notranslate"><span class="pre">find_all_next()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code class="docutils literal notranslate"><span class="pre">find_next()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-all-previous-and-find-previous"><code class="docutils literal notranslate"><span class="pre">find_all_previous()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code class="docutils literal notranslate"><span class="pre">find_previous()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#css-selectors-through-the-css-property"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sélecteurs CSS via la </font></font><code class="docutils literal notranslate"><span class="pre">.css</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propriété</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#advanced-soup-sieve-features"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonctionnalités avancées du tamis à soupe</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#namespaces-in-css-selectors"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espaces de noms dans les sélecteurs CSS</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#history-of-css-selector-support"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Historique de la prise en charge du sélecteur CSS</font></font></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#modifying-the-tree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modification de l'arborescence</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#changing-tag-names-and-attributes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modification des noms et des attributs des balises</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#modifying-string"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modification</font></font><code class="docutils literal notranslate"><span class="pre">.string</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#append"><code class="docutils literal notranslate"><span class="pre">append()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#extend"><code class="docutils literal notranslate"><span class="pre">extend()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#navigablestring-and-new-tag"><code class="docutils literal notranslate"><span class="pre">NavigableString()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code class="docutils literal notranslate"><span class="pre">.new_tag()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#insert"><code class="docutils literal notranslate"><span class="pre">insert()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#insert-before-and-insert-after"><code class="docutils literal notranslate"><span class="pre">insert_before()</span></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code class="docutils literal notranslate"><span class="pre">insert_after()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#clear"><code class="docutils literal notranslate"><span class="pre">clear()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#extract"><code class="docutils literal notranslate"><span class="pre">extract()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#decompose"><code class="docutils literal notranslate"><span class="pre">decompose()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#replace-with"><code class="docutils literal notranslate"><span class="pre">replace_with()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#wrap"><code class="docutils literal notranslate"><span class="pre">wrap()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#unwrap"><code class="docutils literal notranslate"><span class="pre">unwrap()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#smooth"><code class="docutils literal notranslate"><span class="pre">smooth()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#output"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sortir</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#pretty-printing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jolie impression</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#non-pretty-printing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impression pas jolie</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#output-formatters"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formateurs de sortie</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#formatter-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objets du formateur</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.HTMLFormatter"><code class="docutils literal notranslate"><span class="pre">HTMLFormatter</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.XMLFormatter"><code class="docutils literal notranslate"><span class="pre">XMLFormatter</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#writing-your-own-formatter"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Écrire votre propre formateur</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#get-text"><code class="docutils literal notranslate"><span class="pre">get_text()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#specifying-the-parser-to-use"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spécification de l'analyseur à utiliser</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#differences-between-parsers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Différences entre les analyseurs</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#encodings"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encodages</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#output-encoding"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codage de sortie</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#unicode-dammit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicode, bon sang</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#smart-quotes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citations intelligentes</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#inconsistent-encodings"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encodages incohérents</font></font></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#line-numbers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Numéros de ligne</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#comparing-objects-for-equality"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparer des objets pour l'égalité</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#copying-beautiful-soup-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copier de beaux objets Soup</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#advanced-parser-customization"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Personnalisation avancée de l'analyseur</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parsing-only-part-of-a-document"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analyser seulement une partie d'un document</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#bs4.SoupStrainer"><code class="docutils literal notranslate"><span class="pre">SoupStrainer</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#customizing-multi-valued-attributes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Personnalisation des attributs à valeurs multiples</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#handling-duplicate-attributes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestion des attributs en double</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#instantiating-custom-subclasses"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instanciation de sous-classes personnalisées</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#troubleshooting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dépannage</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#diagnose"><code class="docutils literal notranslate"><span class="pre">diagnose()</span></code></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#errors-when-parsing-a-document"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erreurs lors de l'analyse d'un document</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#version-mismatch-problems"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problèmes de non-concordance de versions</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#parsing-xml"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analyse XML</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#other-parser-problems"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autres problèmes d'analyseur</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#miscellaneous"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Divers</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#improving-performance"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Améliorer les performances</font></font></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#translating-this-documentation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Traduire cette documentation</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Belle soupe 3</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#porting-code-to-bs4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portage du code vers BS4</font></font></a><ul>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#you-need-a-parser"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous avez besoin d'un analyseur</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#method-names"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Noms des méthodes</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#generators"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Générateurs</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#xml"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XML</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#entities"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entités</font></font></a></li>
<li><a class="reference internal" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#id17"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Divers</font></font></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="lien source">
    <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cette page</font></font></h3>
    <ul class="this-page-menu">
      <li><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/_sources/index.rst.txt" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Afficher la source</font></font></a></li>
    </ul>
   </div>
<div id="searchbox" style="display: block;" role="search">
  <h3 id="searchlabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche rapide</font></font></h3>
    <div class="searchformwrapper">
    <form class="search" action="https://www.crummy.com/software/BeautifulSoup/bs4/doc/search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
      <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><input type="submit" value="Aller"></font></font>
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="navigation associée">
      <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La navigation</font></font></h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/genindex.html" title="Index général"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indice</font></font></a></li>
        <li class="right">
          <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/py-modindex.html" title="Index des modules Python"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modules</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> |</font></font></li>
        <li class="nav-item nav-item-0"><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation de Beautiful Soup 4.12.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »</font></font></li>
        <li class="nav-item nav-item-this"><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Belle documentation sur la soupe</font></font></a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    © Droits d'auteur 2004-2023, Léonard Richardson. Créé avec </font></font><a href="https://www.sphinx-doc.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sphinx</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 7.2.6.
    </font></font></div><div id="goog-gt-tt" class="VIpgJd-yAWNEb-L7lbkb skiptranslate" style="border-radius: 12px; margin: 0 0 0 -23px; padding: 0; font-family: &#39;Google Sans&#39;, Arial, sans-serif;" data-id=""><div id="goog-gt-vt" class="VIpgJd-yAWNEb-hvhgNd"><div class=" VIpgJd-yAWNEb-hvhgNd-l4eHX-i3jM8c"><img src="./Documentation de Beautiful Soup — Documentation de Beautiful Soup 4.12.0_files/24px.svg" width="24" height="24" alt=""></div><div class=" VIpgJd-yAWNEb-hvhgNd-k77Iif-i3jM8c"><div class="VIpgJd-yAWNEb-hvhgNd-IuizWc" dir="ltr">Texte d'origine</div><div id="goog-gt-original-text" class="VIpgJd-yAWNEb-nVMfcd-fmcmS VIpgJd-yAWNEb-hvhgNd-axAV1"></div></div><div class="VIpgJd-yAWNEb-hvhgNd-N7Eqid ltr"><div class="VIpgJd-yAWNEb-hvhgNd-N7Eqid-B7I4Od ltr" dir="ltr"><div class="VIpgJd-yAWNEb-hvhgNd-UTujCb">Évaluez cette traduction</div><div class="VIpgJd-yAWNEb-hvhgNd-eO9mKe">Votre avis nous aidera à améliorer Google&nbsp;Traduction</div></div><div class="VIpgJd-yAWNEb-hvhgNd-xgov5 ltr"><button id="goog-gt-thumbUpButton" type="button" class="VIpgJd-yAWNEb-hvhgNd-bgm6sf" title="Bonne traduction" aria-label="Bonne traduction" aria-pressed="false"><span id="goog-gt-thumbUpIcon"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M21 7h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 0S7.08 6.85 7 7H2v13h16c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73V9c0-1.1-.9-2-2-2zM7 18H4V9h3v9zm14-7l-3 7H9V8l4.34-4.34L12 9h9v2z"></path></svg></span><span id="goog-gt-thumbUpIconFilled"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M21 7h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 0S7.08 6.85 7 7v13h11c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73V9c0-1.1-.9-2-2-2zM5 7H1v13h4V7z"></path></svg></span></button><button id="goog-gt-thumbDownButton" type="button" class="VIpgJd-yAWNEb-hvhgNd-bgm6sf" title="Mauvaise traduction" aria-label="Mauvaise traduction" aria-pressed="false"><span id="goog-gt-thumbDownIcon"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M3 17h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 24s7.09-6.85 7.17-7h5V4H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2zM17 6h3v9h-3V6zM3 13l3-7h9v10l-4.34 4.34L12 15H3v-2z"></path></svg></span><span id="goog-gt-thumbDownIconFilled"><svg width="24" height="24" viewBox="0 0 24 24" focusable="false" class="VIpgJd-yAWNEb-hvhgNd-THI6Vb NMm5M"><path d="M3 17h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 24s7.09-6.85 7.17-7V4H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2zm16 0h4V4h-4v13z"></path></svg></span></button></div></div><div id="goog-gt-votingHiddenPane" class="VIpgJd-yAWNEb-hvhgNd-aXYTce"><form id="goog-gt-votingForm" action="https://translate.googleapis.com/translate_voting?client=te_lib" method="post" target="votingFrame" class="VIpgJd-yAWNEb-hvhgNd-aXYTce"><input type="text" name="sl" id="goog-gt-votingInputSrcLang"><input type="text" name="tl" id="goog-gt-votingInputTrgLang"><input type="text" name="query" id="goog-gt-votingInputSrcText"><input type="text" name="gtrans" id="goog-gt-votingInputTrgText"><input type="text" name="vote" id="goog-gt-votingInputVote"></form><iframe name="votingFrame" frameborder="0" src="./Documentation de Beautiful Soup — Documentation de Beautiful Soup 4.12.0_files/saved_resource.html"></iframe></div></div></div>
  
</body></html>